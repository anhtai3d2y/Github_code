if (self.CavalryLogger) { CavalryLogger.start_js(["KWly0"]); }

__d("useComposerVideoUploaderConfigQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"actorID",type:"ID!"}],b=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"actor_id",variableName:"actorID"}],kind:"ScalarField",name:"comet_composer_video_uploader_config",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useComposerVideoUploaderConfigQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useComposerVideoUploaderConfigQuery",selections:b},params:{id:"2280162242098857",metadata:{},name:"useComposerVideoUploaderConfigQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometAlbumMediaAttachmentAreaPaginationQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"count",type:"Int"},{defaultValue:null,kind:"LocalArgument",name:"cursor",type:"ID"},{defaultValue:null,kind:"LocalArgument",name:"scale",type:"Float"},{defaultValue:null,kind:"LocalArgument",name:"id",type:"ID!"}],b=[{kind:"Variable",name:"id",variableName:"id"}],c={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"},{kind:"Literal",name:"media_type",value:"ALL"}],f=[d,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"default_mediaset",plural:!1,selections:[c,d],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}],g=[d];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometAlbumMediaAttachmentAreaPaginationQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"CometAlbumMediaAttachmentArea_album"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometAlbumMediaAttachmentAreaPaginationQuery",selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[c,d,{kind:"InlineFragment",selections:[{alias:null,args:e,concreteType:"MediaSetMediaConnection",kind:"LinkedField",name:"media",plural:!1,selections:[{alias:null,args:null,concreteType:"MediaSetMediaEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[c,{kind:"TypeDiscriminator",abstractKey:"__isMedia"},{alias:null,args:[{kind:"Variable",name:"scale",variableName:"scale"}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_playable",storageKey:null},{kind:"InlineFragment",selections:f,type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:f,type:"Video",abstractKey:null},{kind:"InlineFragment",selections:g,type:"Node",abstractKey:"__isNode"},{kind:"InlineFragment",selections:g,type:"MontageImage",abstractKey:null},{kind:"InlineFragment",selections:g,type:"MontageVideo",abstractKey:null},{kind:"InlineFragment",selections:g,type:"GenericAttachmentMedia",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:e,filters:[],handle:"connection",key:"CometAlbumMediaAttachmentArea_media",kind:"LinkedHandle",name:"media"}],type:"Album",abstractKey:null}],storageKey:null}]},params:{id:"4044994205540796",metadata:{},name:"CometAlbumMediaAttachmentAreaPaginationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometAlbumMediaAttachmentArea_album.graphql",["CometAlbumMediaAttachmentAreaPaginationQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=["media"];return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"count",type:"Int"},{defaultValue:null,kind:"LocalArgument",name:"cursor",type:"ID"},{kind:"RootArgument",name:"scale",type:"Float"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:a}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:a},fragmentPathInResult:["node"],operation:b("CometAlbumMediaAttachmentAreaPaginationQuery.graphql"),identifierField:"id"}},name:"CometAlbumMediaAttachmentArea_album",selections:[{alias:"media",args:null,concreteType:"MediaSetMediaConnection",kind:"LinkedField",name:"__CometAlbumMediaAttachmentArea_media_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"MediaSetMediaEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometAlbumEditItem_media"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Album",abstractKey:null}}();e.exports=a}),null);
__d("CometAlbumEditItemDeleteButton_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};a=[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"default_mediaset",plural:!1,selections:[a],storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometAlbumEditItemDeleteButton_media",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_playable",storageKey:null},{kind:"InlineFragment",selections:a,type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:a,type:"Video",abstractKey:null}],type:"Media",abstractKey:"__isMedia"}}();e.exports=a}),null);
__d("CometAlbumEditItemDescriptionEditor_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometAlbumEditItemDescriptionEditor_media",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_playable",storageKey:null},{kind:"InlineFragment",selections:a,type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:a,type:"Video",abstractKey:null}],type:"Media",abstractKey:"__isMedia"}}();e.exports=a}),null);
__d("CometAlbumEditItem_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale",type:"Float"}],kind:"Fragment",metadata:null,name:"CometAlbumEditItem_media",selections:[{alias:null,args:[{kind:"Variable",name:"scale",variableName:"scale"}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometAlbumEditItemDeleteButton_media"},{args:null,kind:"FragmentSpread",name:"CometAlbumEditItemDescriptionEditor_media"}],type:"Media",abstractKey:"__isMedia"};e.exports=a}),null);
__d("VideoThumbnail",["invariant"],(function(a,b,c,d,e,f,g){a=function(){"use strict";function a(a){this.$1=a}var b=a.prototype;b.getURL=function(){return this.$1};b.getData=function(){g(0,4844)};a.addTextToCanvasContext=function(a,b,c,d,e,f,g,h,i){a.fillStyle=h;a.textAlign=i;a.font=f+"px "+g;h=i==="center"?d+e/2:d;g=1;i=b.split("\n");for(var d=i,b=Array.isArray(d),i=0,d=b?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(b){if(i>=d.length)break;j=d[i++]}else{i=d.next();if(i.done)break;j=i.value}j=j;var k="",l="";j=j.split(" ");for(var j=j,m=Array.isArray(j),n=0,j=m?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(m){if(n>=j.length)break;o=j[n++]}else{n=j.next();if(n.done)break;o=n.value}o=o;l+=o;var p=a.measureText(l).width,q=a.measureText(o).width;if(q>e){k.length>0&&(a.fillText(k,h,c+f*g),g++);q="";var r="";for(var s=o,t=Array.isArray(s),u=0,s=t?s:s[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var v;if(t){if(u>=s.length)break;v=s[u++]}else{u=s.next();if(u.done)break;v=u.value}v=v;r+=v;var w=a.measureText(r).width;w>e?(a.fillText(q,h,c+f*g),q=v,r=v,g++):q=r}k=q+" ";l=q+" "}else p>e?(a.fillText(k,h,c+f*g),k=o+" ",l=o+" ",g++):(l+=" ",k=l)}a.fillText(k,h,c+f*g);g++}return a};return a}();e.exports=a}),null);
__d("CanvasToBlobImpl",["BlobFactory"],(function(a,b,c,d,e,f){function a(a,c){a=atob(a.substr(a.indexOf(",")+1));var d=new Uint8Array(a.length);for(var e=0;e<a.length;e++)d[e]=a.charCodeAt(e);return b("BlobFactory").getBlob([d],{type:c})}e.exports={getBlob:a}}),null);
__d("dataURLToBlob",["Promise","BlobFactory","CanvasToBlobImpl","CanvasToBlobResource","WebWorker"],(function(a,b,c,d,e,f){var g=b("CanvasToBlobImpl").getBlob,h=a.URL||a.webkitURL||{};function c(a,c){if(!h.createObjectURL||!b("BlobFactory").isSupported)return b("Promise").reject("Browser doesn't support this feature");if(b("WebWorker").isSupported())return new(b("Promise"))(function(d,e){var f=new(b("WebWorker"))(b("CanvasToBlobResource")).setMessageHandler(function(a){d(a),f.terminate()}).setErrorHandler(function(a){e(a.message),f.terminate()}).execute().postMessage({dataURL:a,fileType:c})});else return b("Promise").resolve(g(a,c))}e.exports=c}),null);
__d("canvasToBlob",["Promise","dataURLToBlob","promiseDone"],(function(a,b,c,d,e,f){function a(a,c,d){return new(b("Promise"))(function(e,f){if(a.toBlob)a.toBlob(e,c,d);else{var g=a.toDataURL(c,d);b("promiseDone")(b("dataURLToBlob")(g,c).then(function(a){e(a)},f))}})}e.exports=a}),null);
__d("CanvasVideoThumbnail",["Promise","EventListener","VideoThumbnail","canvasToBlob","promiseDone"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b,c,d,e,f,g,h){var i;e===void 0&&(e=null);f===void 0&&(f=null);g===void 0&&(g=0);h===void 0&&(h=0);i=a.call(this,null)||this;i.$CanvasVideoThumbnail1=b;i.$CanvasVideoThumbnail2=c;i.$CanvasVideoThumbnail3=d;i.$CanvasVideoThumbnail4=e;i.$CanvasVideoThumbnail5=f;i.$CanvasVideoThumbnail6=g;i.$CanvasVideoThumbnail7=h;return i}var d=c.prototype;d.getCanvas=function(){return this.$CanvasVideoThumbnail1};d.getTime=function(){return this.$CanvasVideoThumbnail3?this.$CanvasVideoThumbnail3:0};d.getURL=function(){this.$CanvasVideoThumbnail8||(this.$CanvasVideoThumbnail8=this.$CanvasVideoThumbnail1.toDataURL("image/jpeg"));return this.$CanvasVideoThumbnail8};d.getData=function(){var a=this,c=document.createElement("canvas"),d=c.getContext("2d"),e=this.$CanvasVideoThumbnail2;return new(b("Promise"))(function(f,g){var h=b("EventListener").listen(e,"seeked",function(){h.remove(),a.$CanvasVideoThumbnail9(c,d),b("promiseDone")(b("canvasToBlob")(c,"image/jpeg").then(f,g))});e.currentTime=a.$CanvasVideoThumbnail3})};d.getDataWithText=function(a,c,d,e,f,g,h,i){var j=this,k=document.createElement("canvas"),l=k.getContext("2d"),m=this.$CanvasVideoThumbnail2;return new(b("Promise"))(function(n,o){var p=b("EventListener").listen(m,"seeked",function(){p.remove(),l.fillStyle=h,l.textAlign=i,j.$CanvasVideoThumbnail9(k,l),l=b("VideoThumbnail").addTextToCanvasContext(l,a,c,d,e,f,g,h,i),b("promiseDone")(b("canvasToBlob")(k,"image/jpeg").then(n,o))});m.currentTime=j.$CanvasVideoThumbnail3})};d.$CanvasVideoThumbnail9=function(a,b){var c=this.$CanvasVideoThumbnail2;this.$CanvasVideoThumbnail4||this.$CanvasVideoThumbnail5?(a.width=this.$CanvasVideoThumbnail4?this.$CanvasVideoThumbnail4:c.videoWidth,a.height=this.$CanvasVideoThumbnail5?this.$CanvasVideoThumbnail5:c.videoHeight,this.$CanvasVideoThumbnail10(a,b)):(a.width=c.videoWidth,a.height=c.videoHeight,b.drawImage(c,0,0,a.width,a.height))};d.$CanvasVideoThumbnail10=function(a,b){var c=this.$CanvasVideoThumbnail2,d=this.$CanvasVideoThumbnail6,e=this.$CanvasVideoThumbnail7,f=this.$CanvasVideoThumbnail4?this.$CanvasVideoThumbnail4:a.width,g=this.$CanvasVideoThumbnail5?this.$CanvasVideoThumbnail5:a.height;b.drawImage(c,d,e,f,g,0,0,a.width,a.height)};return c}(b("VideoThumbnail"));e.exports=a}),null);
__d("HTMLMediaElementReadyStates",[],(function(a,b,c,d,e,f){a={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4};e.exports=a}),null);
__d("VideoFrameBuffer",["HTMLMediaElementReadyStates"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a,b,c,d,e,f,g){d===void 0&&(d=null),e===void 0&&(e=null),f===void 0&&(f=null),g===void 0&&(g=null),this.$2=b,this.$1=a,this.$3=c||"contain",this.$6=d,this.$7=e,this.$8=f,this.$9=g}var c=a.prototype;c.updateFrameBuffer=function(){this.$4&&(this.$1.width=this.$4,this.$4=null);this.$5&&(this.$1.height=this.$5,this.$5=null);if(this.$2.readyState<b("HTMLMediaElementReadyStates").HAVE_CURRENT_DATA)return;var a=this.$1.clientWidth||this.$1.width,c=this.$1.clientHeight||this.$1.height,d=a,e=c,f=this.$2.videoWidth/this.$2.videoHeight,g=d/e;this.$3==="cover"&&(g*=-1,f*=-1);g>f?d=e*f:g<f&&(e=d/f);g=this.$1.getContext("2d");if(!(g instanceof window.CanvasRenderingContext2D))return;try{if(this.$6||this.$7){g.drawImage(this.$2,(f=this.$8)!=null?f:0,(f=this.$9)!=null?f:0,(f=this.$6)!=null?f:a,(f=this.$7)!=null?f:c,0,0,a,c)}else g.drawImage(this.$2,(a-d)/2,(c-e)/2,d,e)}catch(a){if(a.name!=="NS_ERROR_NOT_AVAILABLE")throw a}};c.getDOMNode=function(){return this.$1};c.updateDimensions=function(a,b){this.$4=a,this.$5=b};return a}();e.exports=a}),null);
__d("generateVideoThumbnails",["Promise","requireCond","CanvasVideoThumbnail","cr:909281","HTMLMediaElementReadyStates","VideoFrameBuffer"],(function(a,b,c,d,e,f){function a(a,c,d,e,f,k,l,m,n){f===void 0&&(f="contain");k===void 0&&(k=0);l===void 0&&(l=null);m===void 0&&(m=null);n===void 0&&(n=null);return new(b("Promise"))(function(o,p){var q,r=document.createElement("canvas"),s=[],t=0,u=(a.duration-k)/e,v=null,w,x,y=(q=m)!=null?q:g(l,c),z=(q=n)!=null?q:h(l,d),A=i(l,c),B=j(l,d);w=new(b("VideoFrameBuffer"))(r,a,f,y,z,A,B);r.width=(q=y)!=null?q:c;r.height=(q=z)!=null?q:d;var C=function(){w.updateFrameBuffer();var c=new(b("CanvasVideoThumbnail"))(r,a,k+(t-1)*u,y,z,A,B);s.push(c);(!v||c.getURL().length>v.getURL().length)&&(v=c);E()},D=function(){if(a.readyState>=b("HTMLMediaElementReadyStates").HAVE_CURRENT_DATA)C();else if(b("cr:909281")!==null)var c=b("cr:909281").listen(a,"loadeddata",function(){c.remove(),C()});else a.addEventListener("loadeddata",C,{once:!0})},E=function(){t===0&&(b("cr:909281")!==null?x=b("cr:909281").listen(a,"seeked",D):a.addEventListener("seeked",D)),t<e?(a.currentTime=k+t*u,t++):(b("cr:909281")!==null?x&&x.remove():a.removeEventListener("seeked",D),o({thumbnails:s,selectedThumbnail:v}))};if(a.videoWidth===0||a.videoHeight===0){p();return}E()})}function g(a,b){if(a&&a.spherical){if(a.stereoMode==="left-right")return b/2;if(a.projectionType==="cubemap")return b/3}return null}function h(a,b){return a&&a.spherical&&(a.stereoMode==="top-bottom"||a.projectionType==="cubemap")?b/2:null}function i(a,b){return a&&a.spherical&&a.projectionType==="cubemap"?b/3:0}function j(a,b){return a&&a.spherical&&a.projectionType==="cubemap"?b/2:0}e.exports=a}),null);
__d("CometLocalVideoFileThumbnailSuspense.react",["Promise","CometBackgroundImage.react","React","generateVideoThumbnails","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a){var c=a.file,d=a.height,e=d===void 0?100:d;d=a.renderer;a=a.width;var f=a===void 0?100:a;a=h.getFromCache(c,f,e);if((a==null?void 0:a.error)!=null)throw a.error;else if((a==null?void 0:a.src)!=null&&a.src!=="")return d?d(a.src):g.jsx(b("CometBackgroundImage.react"),{alt:c.name,src:a.src});else{var i=document.body;if(i){var j=document.createElement("video");throw new(b("Promise"))(function(a){j.setAttribute("style","display: none"),j.setAttribute("src",URL.createObjectURL(c)),j.addEventListener("loadedmetadata",function(){a(b("generateVideoThumbnails")(j,f,e,1))}),i.appendChild(j)}).then(function(a){h.cache[f+"x"+e+"/"+c.name+"/"+c.lastModified]={src:a.thumbnails[0].getURL()}})["catch"](function(a){a=new Error("Video metadata could not be read.");h.cache[f+"x"+e+"/"+c.name+"/"+c.lastModified]={error:a};b("recoverableViolation")(a.message,"video");throw a})["finally"](function(){i.removeChild(j)})}}}h.cache={};h.getFromCache=function(a,b,c){return h.cache[b+"x"+c+"/"+a.name+"/"+a.lastModified]};e.exports=h}),null);
__d("genArrayBufferFromFile",["Promise"],(function(a,b,c,d,e,f){"use strict";function a(a){return"arrayBuffer"in a&&typeof a.arrayBuffer==="function"?a.arrayBuffer():new(b("Promise"))(function(b,c){var d=new FileReader();d.onload=function(){var a=d.result;a instanceof ArrayBuffer?b(a):c()};d.onerror=function(){c(d.error)};d.readAsArrayBuffer(a)})}e.exports=a}),null);
__d("parseIFDEntry",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.readU16(),c=a.readU16(),d=a.readU32(),e=Object.freeze({offset:a.peekU32(),type:"offset"});switch(c){case 1:case 2:case 7:if(d<5){e={type:"data",values:[]};for(var f=0;f<d;f++)e.values.push(a.readU8())}break;case 6:if(d<5){e={type:"data",values:[]};for(var f=0;f<d;f++)e.values.push(a.readI8())}break;case 3:if(d<3){e={type:"data",values:[]};for(var f=0;f<d;f++)e.values.push(a.readU16())}break;case 8:if(d<3){e={type:"data",values:[]};for(var f=0;f<d;f++)e.values.push(a.readI16())}break;case 4:d<2&&(e={type:"data",values:[a.readU32()]});break;case 9:d<2&&(e={type:"data",values:[a.readI32()]});break;case 11:d<2&&(e={type:"data",values:[a.readF32()]});break;case 5:case 10:case 12:a.seekRelative(4);break}return{format:c,tag:b,value:e}}e.exports=a}),null);
__d("parseIFDTable",["parseIFDEntry"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.readU16(),d=[];for(var e=0;e<c;e++)d.push(b("parseIFDEntry")(a));c=a.readU32();return{entries:d,nextTableOffset:c}}e.exports=a}),null);
__d("parseTIFFHeader",["EndianAwareDataReader","parseIFDTable"],(function(a,b,c,d,e,f){"use strict";function a(a,c){c===void 0&&(c=0);var d=new Uint8Array(a,c),e=!0;if(d[0]===77&&d[1]===77)e=!1;else if(d[0]!==73||d[1]!==73)return null;d=new(b("EndianAwareDataReader"))(a,e);d.seekTo(c+2);if(d.readU16()!==42)return null;a=d.readU32();d.seekRelative(a-8);e=b("parseIFDTable")(d);return[e]}e.exports=a}),null);
__d("extractJPEGOrientationData",["genArrayBufferFromFile","parseTIFFHeader"],(function(a,b,c,d,e,f){"use strict";var g=65496,h=65498,i=1165519206;function a(a){return b("genArrayBufferFromFile")(a).then(function(a){var c=new DataView(a);if(c.getUint16(0,!1)!==g)return null;var d=2;while(d<a.byteLength-2&&c.getUint16(d)!==h){var e=c.getUint16(d),f=e&65280;e=e&255;if(f===65280)if(e===225){if(c.getUint32(d+4)!==i||c.getUint16(d+8)!==0)return null;f=b("parseTIFFHeader")(a,d+10);if(f!=null){f=f[0];for(var f=f.entries,j=Array.isArray(f),k=0,f=j?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(j){if(k>=f.length)break;l=f[k++]}else{k=f.next();if(k.done)break;l=k.value}l=l;if(l.tag===274){l=l.value;if(l.type==="data"){l=l.values[0];if(l==null)return null;return l===0||l===1||l===2||l===3||l===4||l===5||l===6||l===7||l===8?l:null}return null}}}return null}else if(e!==0&&(e<208||e>217)){l=c.getUint16(d+2,!1);d+=l+2}}return null})}e.exports=a}),null);
__d("genDimensionsFromImageFile",["Promise"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=new Image(),d=new(b("Promise"))(function(a,b){c.onload=function(){a({height:c.height,width:c.width})},c.onerror=function(){b()}});a instanceof File?c.src=URL.createObjectURL(a):c.src=a;return d}e.exports=a}),null);
__d("genDimensionsFromVideoFile",["Promise"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=document.createElement("video"),d=new(b("Promise"))(function(a,b){c.onloadedmetadata=function(){a({height:c.videoHeight,width:c.videoWidth})},c.onerror=function(){b()}});a instanceof File?c.src=URL.createObjectURL(a):c.src=a;return d}e.exports=a}),null);
__d("genIsHEICFile",["genArrayBufferFromFile"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=[102,116,121,112],d=[104,101,105,99],e=[104,101,105,120];return b("genArrayBufferFromFile")(a).then(function(a){a=new Uint8Array(a);var b=a.slice(4,8).reduce(function(a,b,d){return a&&b===c[d]},!0);if(!b)return!1;b=a.slice(8,12).reduce(function(a,b,c){return a&&b===d[c]},!0);if(b)return!0;b=a.slice(8,12).reduce(function(a,b,c){return a&&b===e[c]},!0);return b?!0:!1})}e.exports=a}),null);
__d("useCometComposerLoggerDispatcher",["CometComposerLoggerDispatcherContext","React"],(function(a,b,c,d,e,f){"use strict";c=b("React");var g=c.useContext;function a(){return g(b("CometComposerLoggerDispatcherContext"))}e.exports=a}),null);
__d("usePagesCometComposerMultiMediaRestrictions",["fbt","React","cometPushToast"],(function(a,b,c,d,e,f,g){"use strict";c=b("React");var h=c.useCallback,i=b("cometPushToast").cometPushSimpleToast;function a(a,b){var c=h(function(a){a!=null&&a.map(function(a){return b({attachment:a,type:"REMOVE_MEDIA_ATTACHMENT_ITEM"})})},[b]);return h(function(){if(a!=null){var b=a.filter(function(a){return a.fileType==="PHOTO"}),d=a.filter(function(a){return a.fileType==="VIDEO"});b.length>0&&d.length>0&&(d.length===1&&d[0].state==="NEW"&&!b.some(function(a){return a.state==="NEW"})?c(b):c(d),i(g._("R\u1ea5t ti\u1ebfc, b\u1ea1n kh\u00f4ng th\u1ec3 th\u00eam c\u1ea3 \u1ea3nh v\u00e0 video m\u1ed9t l\u00fac")));d.length>1&&(c(d.slice(1)),i(g._("Vui l\u00f2ng ch\u1ecdn m\u1ed7i l\u1ea7n m\u1ed9t file video.")))}},[a,c])}e.exports=a}),null);
__d("CometComposerHeadlessMediaUploaderImpl.react",["Promise","Actor","ComposerMediaFileUploader","PagesCometComposerContext","React","extractJPEGOrientationData","genDimensionsFromImageFile","genDimensionsFromVideoFile","genIsHEICFile","promiseDone","qex","recoverableViolation","useCometComposerLoggerDispatcher","usePagesCometComposerMultiMediaRestrictions"],(function(a,b,c,d,e,f){"use strict";var g=b("Actor").useActor;b("React");c=b("React");var h=c.useCallback,i=c.useContext,j=c.useEffect,k=b("qex")._("1221850")===!0;function a(a){var c=a.creationSessionID,d=a.dispatch,e=a.mediaAttachments,f=a.mediaUploadStatuses;a=a.videoUploaderConfig;var l=b("useCometComposerLoggerDispatcher")(),m=i(b("PagesCometComposerContext")),n=g();n=n[0];var o=b("usePagesCometComposerMultiMediaRestrictions")(e,d),p=b("ComposerMediaFileUploader").createOrGetInstance(n,a,c),q=h(function(a){d(babelHelpers["extends"]({type:"MEDIA_UPLOAD_STARTED"},a)),l({fields:{media_id:a.uploadID},type:"MEDIA_UPLOAD_TRANSFER_START"})},[d,l]),r=h(function(a){d(babelHelpers["extends"]({type:"MEDIA_UPLOAD_PROGRESS"},a))},[d]),s=h(function(a){var b=f&&f[a.uploadID];b!=null&&b.resolveFileUpload({attachmentID:a.entID,attachmentType:a.attachmentType})},[f]),t=h(function(a){d({entID:a.entID,imageURL:a.attachmentType==="PHOTO"?a.imageURL:void 0,type:"MEDIA_UPLOAD_SUCCESSFUL",uploadID:a.uploadID}),l({fields:{media_id:a.uploadID,media_item_fbid:a.entID},type:"MEDIA_UPLOAD_TRANSFER_SUCCESS"}),l({fields:{media_id:a.uploadID,media_item_fbid:a.entID,media_type:a.attachmentType},type:"MEDIA_UPLOAD_SUCCESS"}),l({fields:{media_id:a.uploadID,media_item_fbid:a.entID,media_type:a.attachmentType},type:"MEDIA_UPLOAD_FLOW_SUCCESS"})},[d,l]),u=h(function(a){d(babelHelpers["extends"]({type:"MEDIA_UPLOAD_FAILED"},a)),l({fields:{media_id:a.uploadID},type:"MEDIA_UPLOAD_FAILURE"})},[d,l]);j(function(){m!=null&&e!=null&&o();p.startedObserver.subscribe(q);p.progressObserver.subscribe(r);p.successObserver.subscribe(t);p.errorObserver.subscribe(u);k&&p.successObserver.subscribe(s);return function(){p.startedObserver.unsubscribe(q),p.progressObserver.unsubscribe(r),p.successObserver.unsubscribe(t),p.errorObserver.unsubscribe(u)}});var v=function(a){return a.state==="CLIENT_PROCESSING_COMPLETE"&&a.fileType!=="UNKNOWN"?[a.file,a.fileType]:null},w=h(function(a){var b=a.map(function(a){return a.file&&((a=a.file)==null?void 0:a.uploadID)}).filter(Boolean);d({type:"MARK_UPLOADS_CLIENT_PROCESSING",uploadIDs:b});a.forEach(function(a){var b;return l({fields:{media_id:(b=(b=a.file)==null?void 0:b.uploadID)!=null?b:"",media_type:a.fileType},type:"MEDIA_UPLOAD_PROCESS_START"})})},[d,l]),x=h(function(a){var c=a.file;if(c)return b("genIsHEICFile")(c).then(function(e){e&&d({type:"MARK_UPLOADS_AS_PHOTO",uploadIDs:[c==null?void 0:c.uploadID].filter(Boolean)});return b("Promise").resolve(a)});else return b("Promise").resolve(a)},[d]),y=h(function(a){var c=a.file;return c?b("extractJPEGOrientationData")(c).then(function(c){c!=null&&c>0&&d({attachment:a,type:"SET_MEDIA_ATTACHMENT_ITEM_USE_CDN_PREVIEW"});return b("Promise").resolve(a)})["catch"](function(c){b("recoverableViolation")("An error occurred when parsing an uploaded image","comet_composer",{error:c});return b("Promise").resolve(a)}):b("Promise").resolve(a)},[d]),z=h(function(a){var c=a.file?a.file:void 0,e=a.fileObjectURL,f;if(e!=null)switch(a.fileType){case"PHOTO":f=b("genDimensionsFromImageFile")(e);break;case"VIDEO":f=b("genDimensionsFromVideoFile")(e);break}else if(c!=null)switch(a.fileType){case"PHOTO":f=b("genDimensionsFromImageFile")(c);break;case"VIDEO":f=b("genDimensionsFromVideoFile")(c);break}else f=b("Promise").resolve({height:0,width:0});if(f!=null)return f.then(function(b){var c=b.height;b=b.width;d({attachment:a,height:c,type:"SET_MEDIA_ATTACHMENT_ITEM_DIMENSIONS",width:b})},function(){d({attachment:a,height:0,type:"SET_MEDIA_ATTACHMENT_ITEM_DIMENSIONS",width:0})})},[d]),A=h(function(){var a=(e||[]).map(function(a){return a.state==="NEW"?a:null}).filter(Boolean);a.forEach(function(a){var c=a.file.uploadID;c!=null&&(l({fields:{media_id:c,media_type:a.fileType},type:"MEDIA_UPLOAD_FLOW_START"}),l({fields:{media_id:c,media_type:a.fileType},type:"MEDIA_UPLOAD_START"}));c=[];w([a]);a.fileType==="UNKNOWN"&&a.file?c.push(x(a)):a.fileType==="PHOTO"&&c.push(y(a));c.push(z(a));b("promiseDone")(b("Promise").all(c).then(function(){var b=[a.file.uploadID].filter(Boolean),c=a.fileType;d({type:"MEDIA_ATTACHMENT_CLIENT_PROCESSING_COMPLETED",uploadIDs:b});b.forEach(function(a){return l({fields:{media_id:a,media_type:c},type:"MEDIA_UPLOAD_PROCESS_SUCCESS"})})}))})},[z,x,y,d,l,w,e]),B=h(function(){if(e!=null&&e.some(function(a){return a.state==="CLIENT_PROCESSING_COMPLETE"})){var a=e.filter(function(a){return a.state==="CLIENT_PROCESSING_COMPLETE"}).map(v).filter(Boolean);a.length>0&&(d({type:"QUEUE_UPLOADS",uploadIDs:a.map(function(a){var b=a[0];a[1];return b==null?void 0:b.uploadID}).filter(Boolean)}),p.upload(a))}},[p,d,e]);j(function(){A(),B()},[A,B]);return null}e.exports=a}),null);
__d("useComposerVideoUploaderConfig",["CometRelay","useComposerVideoUploaderConfigQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("CometRelay").graphql;var h=b("CometRelay").useLazyLoadQuery;function a(a){a=h(g!==void 0?g:g=b("useComposerVideoUploaderConfigQuery.graphql"),{actorID:(a=a)!=null?a:""});a=(a=a==null?void 0:(a=a.viewer)==null?void 0:a.comet_composer_video_uploader_config)!=null?a:"";a=a?JSON.parse(a):{};return a}e.exports=a}),null);
__d("CometComposerHeadlessMediaUploader.react",["Actor","CometComposerHeadlessMediaUploaderImpl.react","React","useComposerVideoUploaderConfig","useComposerViewStateDispatcher","withComposerViewStatePart"],(function(a,b,c,d,e,f){"use strict";var g=b("Actor").useActor,h=b("React");c=b("React");var i=c.useMemo;function a(a){var c=a.creationSessionID,d=a.mediaAttachments,e=a.mediaUploadLoggingMetadata,f=e.composerEntrypoint,j=e.source;e=a.mediaUploadStatuses;a=b("useComposerViewStateDispatcher")();var k=g();k=k[0];var l=b("useComposerVideoUploaderConfig")(k);k=i(function(){return babelHelpers["extends"]({},l,{composer_entry_point_ref:f,source:j})},[f,j,l]);return h.jsx(b("CometComposerHeadlessMediaUploaderImpl.react"),{creationSessionID:c,dispatch:a,mediaAttachments:d,mediaUploadStatuses:e,videoUploaderConfig:k})}e.exports=b("withComposerViewStatePart")(a,function(a){return{creationSessionID:a.creationSessionID,mediaAttachments:a.mediaAttachments,mediaUploadStatuses:a.mediaUploadStatuses}})}),null);
__d("CometAlbumEditItemDeleteButton.react",["ix","fbt","requireDeferred","CometRelay","React","TetraCircleButton.react","fbicon","stylex","unrecoverableViolation","useCometMediaViewerDelete","CometAlbumEditItemDeleteButton_media.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("requireDeferred")("CometMediaViewerPhotoDeleteAction"),k=b("requireDeferred")("CometMediaViewerVideoDeleteAction");b("CometRelay").graphql;var l=b("CometRelay").useFragment,m=b("CometRelay").useRelayEnvironment,n=b("React");c=b("React");var o=c.useCallback;function a(a){var c,d=l(i!==void 0?i:i=b("CometAlbumEditItemDeleteButton_media.graphql"),a.media);a=b("useCometMediaViewerDelete")();var e=a[0];a=a[1];var f=m(),p=(d==null?void 0:d.is_playable)===!0?k:j,q=d==null?void 0:(c=d.default_mediaset)==null?void 0:c.id;c=o(function(){var a=d==null?void 0:d.id;if(a==null)throw b("unrecoverableViolation")("media id cannot be null for media in an album","comet_composer");e({body:(d==null?void 0:d.is_playable)===!0?h._("B\u1ea1n c\u00f3 ch\u1eafc ch\u1eafn mu\u1ed1n x\u00f3a video n\u00e0y kh\u00f4ng?"):h._("B\u1ea1n c\u00f3 ch\u1eafc ch\u1eafn mu\u1ed1n x\u00f3a \u1ea3nh n\u00e0y kh\u00f4ng?"),confirm:{beforeConfirm:h._("X\u00f3a"),deleteMutation:function(b){p.loadImmediately(function(c){c({environment:f,input:{mediaID:a,mediasetID:q},onCompleted:b,onError:b})})},hasConfirmed:h._("\u0110ang x\u00f3a...")},title:(d==null?void 0:d.is_playable)===!0?h._("X\u00f3a video"):h._("X\u00f3a \u1ea3nh")})},[p,f,d,q,e]);return n.jsx("div",{className:"pmk7jnqg oqnctjl6",children:n.jsx(b("TetraCircleButton.react"),{icon:b("fbicon")._(g("478232"),16),label:h._("Nh\u1ea5p v\u00e0o \u0111\u00e2y \u0111\u1ec3 x\u00f3a \u1ea3nh"),onPress:c,ref:a,size:32,type:"dark-overlay"})})}e.exports=a}),null);
__d("CometAlbumEditItemDescriptionEditor.react",["fbt","requireDeferred","CometFormTextArea.react","CometRelay","React","cometPushToast","stylex","unrecoverableViolation","CometAlbumEditItemDescriptionEditor_media.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("requireDeferred")("CometMediaViewerPhotoActions"),j=b("requireDeferred")("CometMediaViewerVideoActions");b("CometRelay").graphql;var k=b("CometRelay").useFragment,l=b("CometRelay").useRelayEnvironment,m=b("React");c=b("React");var n=c.useCallback,o=c.useState,p=b("cometPushToast").cometPushSimpleToast,q=b("cometPushToast").cometPushToast;function a(a){var c=k(h!==void 0?h:h=b("CometAlbumEditItemDescriptionEditor_media.graphql"),a.media);a=o((a=c==null?void 0:(a=c.message)==null?void 0:a.text)!=null?a:"");var d=a[0],e=a[1];a=o(d);var f=a[0],r=a[1],s=l(),t=(c==null?void 0:c.is_playable)===!0?j:i,u=n(function(a,h){if(a||d!==f){var i=f;r(d);var j=c==null?void 0:c.id;if(j==null)throw b("unrecoverableViolation")("media id cannot be null for media in an album","comet_composer");t.loadImmediately(function(b){b.edit({environment:s,input:{id:j,message:{text:a?(b=h)!=null?b:d:d}},onCompleted:function(){a?p(g._("\u0110\u00e3 h\u1ee7y c\u1eadp nh\u1eadt"),3e3):q({action:{label:g._("Ho\u00e0n t\u00e1c"),onPress:function(){e(i),u(!0,i)}},message:g._("\u0110\u00e3 c\u1eadp nh\u1eadt ph\u1ea7n m\u00f4 t\u1ea3 file ph\u01b0\u01a1ng ti\u1ec7n")},4e3)},onError:function(){}})})}},[t,d,s,c,f]);a=n(function(){u(!1)},[u]);return m.jsx("div",{className:"scb9dxdr sj5x9vvc dflh9lhu cxgpxx05",children:m.jsx(b("CometFormTextArea.react"),{label:g._("M\u00f4 t\u1ea3 (kh\u00f4ng b\u1eaft bu\u1ed9c)"),minRows:2,onBlur:a,onValueChange:e,value:d})})}e.exports=a}),null);
__d("CometAlbumEditItem.react",["CometAlbumEditItemDeleteButton.react","CometAlbumEditItemDescriptionEditor.react","CometImage.react","CometRelay","React","stylex","CometAlbumEditItem_media.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("CometRelay").graphql;var h=b("CometRelay").useFragment,i=b("React");function a(a){var c;a=h(g!==void 0?g:g=b("CometAlbumEditItem_media.graphql"),a.media);c=(c=a.image)==null?void 0:c.uri;return c==null?null:i.jsxs("div",{className:"l9j0dhe7 cwj9ozl2",children:[i.jsxs("div",{className:"k4urcfbm taijpn5t i6mlhoon cbu4d94t j83agx80 tqsryivl bp9cbjyn",children:[i.jsx("div",{className:"l9j0dhe7 nwf6jgls j83agx80",children:i.jsx(b("CometImage.react"),{className:"dbpd2lw6 d2edcug0 nwf6jgls idiwt2bm",src:c})}),i.jsx("div",{className:"c0p38np4 j9ispegn pmk7jnqg n7fi1qx3",children:i.jsx(b("CometAlbumEditItemDeleteButton.react"),{media:a})})]}),i.jsx(b("CometAlbumEditItemDescriptionEditor.react"),{media:a})]})}e.exports=a}),null);
__d("CometAlbumUploadItemDeleteButton.react",["ix","fbt","React","TetraCircleButton.react","fbicon","isMimeTypeForMedia","stylex","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");c=b("React");var j=c.useCallback,k=b("isMimeTypeForMedia").isMimeTypeForPhoto;function a(a){var c=a.attachment,d=b("useComposerViewStateDispatcher")();a=j(function(){d({attachment:c,type:"REMOVE_MEDIA_ATTACHMENT_ITEM"})},[c,d]);return i.jsx("div",{className:"c0p38np4 pmk7jnqg oqnctjl6",children:i.jsx(b("TetraCircleButton.react"),{icon:b("fbicon")._(g("478232"),16),label:k(c==null?void 0:c.fileType)?h._("G\u1ee1 \u1ea3nh"):h._("G\u1ee1 video"),onPress:a,size:32,type:"dark-overlay"})})}e.exports=a}),null);
__d("composerAlbumMediaDescriptionsReducer",["addToMap"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d;switch(c.type){case"update_album_media_description":d=(d=(d=a.albumData)==null?void 0:d.albumMediaDescriptions)!=null?d:new Map();return babelHelpers["extends"]({},a,{albumData:babelHelpers["extends"]({},a.albumData,{albumMediaDescriptions:b("addToMap")(d,c.mediaID,c.mediaDescription)})})}return a}e.exports=a}),null);
__d("CometComposerAlbumMediaDescriptionsEditor.react",["fbt","CometFormTextArea.react","React","composerAlbumMediaDescriptionsReducer","stylex","useComposerViewStateDispatcher","useComposerViewStateReducer","withComposerViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");a=b("React");var j=a.useCallback,k={root:{paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr"}};c=function(a){var c=a.attachment;a=a.description;b("useComposerViewStateReducer")(b("composerAlbumMediaDescriptionsReducer"));var d=b("useComposerViewStateDispatcher")(),e=c.state!=="PREEXISTING"&&c.state!=="UPLOADED",f=(c.state==="PREEXISTING"||c.state==="UPLOADED")&&c.data!=null?c.data.id:null;c=j(function(a){if(f!=null){a={mediaDescription:a,mediaID:f,type:"update_album_media_description"};d(a)}},[d,f]);return i.jsx("div",{className:(h||(h=b("stylex")))(k.root),children:i.jsx(b("CometFormTextArea.react"),{disabled:e,label:g._("M\u00f4 t\u1ea3 (kh\u00f4ng b\u1eaft bu\u1ed9c)"),minRows:2,onValueChange:c,value:a})})};e.exports=b("withComposerViewStatePart")(c,function(a,b){b=b.attachment;b=(b.state==="PREEXISTING"||b.state==="UPLOADED")&&b.data!=null?b.data.id:null;a=(a=a.albumData)==null?void 0:a.albumMediaDescriptions;return{description:b!=null&&a!=null?a.get(b):""}})}),null);
__d("CometAlbumUploadItem.react",["ix","requireDeferred","CometAlbumUploadItemDeleteButton.react","CometComposerAlbumMediaDescriptionsEditor.react","CometErrorBoundary.react","CometImage.react","CometPlaceholder.react","React","TetraIcon.react","TetraText.react","deferredLoadComponent","fbicon","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j=b("deferredLoadComponent")(b("requireDeferred")("CometLocalVideoFileThumbnailSuspense.react")),k={failed:{borderTopColor:"jw3uvs1e",borderEndColor:"hmw3o7ox",borderBottomColor:"ku5f423u",borderStartColor:"a64ryyup",height:"i6mlhoon"},image:{height:"idiwt2bm",maxHeight:"nwf6jgls",maxWidth:"d2edcug0",width:"dbpd2lw6"},imageContainer:{backgroundColor:"q2y6ezfg",display:"j83agx80",maxHeight:"nwf6jgls",position:"l9j0dhe7"},imageRootContainer:{alignItems:"bp9cbjyn",backgroundColor:"tqsryivl",display:"j83agx80",flexDirection:"cbu4d94t",height:"i6mlhoon",justifyContent:"taijpn5t",width:"k4urcfbm"},root:{backgroundColor:"cwj9ozl2",overflowWrap:"jm1wdb64",position:"l9j0dhe7"},uploadProgress:{backgroundColor:"ms7hmo2b",end:"n7fi1qx3",height:"datstx6m",position:"pmk7jnqg",top:"kr520xx4"}};a=function(a){a=a.attachment;switch(a.state){case"PREEXISTING":return i.jsxs("div",{className:(h||(h=b("stylex")))(k.root),children:[i.jsx("div",{className:(h||(h=b("stylex")))(k.imageRootContainer),children:i.jsx("div",{className:(h||(h=b("stylex")))(k.imageContainer),children:i.jsx(b("CometImage.react"),{className:(h||(h=b("stylex")))(k.image),src:a.fileType==="VIDEO"?a.imageURL:a.url})})}),i.jsx(b("CometAlbumUploadItemDeleteButton.react"),{attachment:a}),i.jsx(b("CometComposerAlbumMediaDescriptionsEditor.react"),{attachment:a})]});case"NEW":case"QUEUED":case"UPLOADING":case"UPLOADED":if(a.file!=null){var c=a.file;return i.jsxs("div",{className:(h||(h=b("stylex")))(k.root),children:[i.jsxs("div",{className:h(k.imageRootContainer),children:[a.fileType==="PHOTO"?i.jsx("div",{className:(h||(h=b("stylex")))(k.imageContainer),children:i.jsx(b("CometImage.react"),{alt:c.name,className:(h||(h=b("stylex")))(k.image),loading:"lazy",src:URL.createObjectURL(c)})}):i.jsx(b("CometErrorBoundary.react"),{fallback:l,children:i.jsx(b("CometPlaceholder.react"),{fallback:null,children:i.jsx(j,{file:c,height:100,width:100})})}),a.state==="UPLOADED"?null:i.jsx("div",{className:(h||(h=b("stylex")))(k.uploadProgress),style:{width:(1-(a.percentComplete||0))*100+"%"}})]}),i.jsx(b("CometAlbumUploadItemDeleteButton.react"),{attachment:a}),i.jsx(b("CometComposerAlbumMediaDescriptionsEditor.react"),{attachment:a})]})}else return null;case"FAILED":return i.jsxs("div",{className:(h||(h=b("stylex")))(k.root,k.failed),children:[a.file.name,a.error!=null?i.jsxs(i.Fragment,{children:[i.jsx("br",{}),i.jsx(b("TetraText.react"),{color:"negative",type:"body4",children:a.error})]}):null,i.jsx(b("CometAlbumUploadItemDeleteButton.react"),{attachment:a}),i.jsx(b("CometComposerAlbumMediaDescriptionsEditor.react"),{attachment:a})]})}return null};var l=function(){return i.jsx(b("TetraIcon.react"),{color:"white",icon:b("fbicon")._(g("1183332"),32)})};e.exports=a}),null);
__d("CometAlbumMediaAttachmentArea.react",["CometAlbumEditItem.react","CometAlbumUploadItem.react","CometComposerHeadlessMediaUploader.react","CometComposerMediaDropTarget.react","CometFlexibleGrid.react","CometInfiniteScrollTrigger.react","CometProgressIndicator.react","CometRelay","CometRouteRenderType","React","composerMediaAttachmentReducer","stylex","useComposerViewStateDispatcher","useComposerViewStateReducer","withComposerViewStatePart","CometAlbumMediaAttachmentArea_album.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("CometRelay").graphql;var h=b("CometRelay").usePaginationFragment,i=b("CometRouteRenderType").useIsPushView,j=b("React");c=b("React");var k=c.useCallback,l=c.useEffect,m=500,n=300;function a(a){var c=a.album,d=a.disableVideo,e=a.mediaAttachments;a=a.mediaUploadLoggingMetadata;var f=i();c=h(g!==void 0?g:g=b("CometAlbumMediaAttachmentArea_album.graphql"),c);var o=c.data,p=c.hasNext,q=c.isLoadingNext,r=c.loadNext;b("useComposerViewStateReducer")(b("composerMediaAttachmentReducer"));var s=b("useComposerViewStateDispatcher")();l(function(){return function(){s({type:"REMOVE_ALL_MEDIA_ATTACHMENT_ITEMS"})}},[s]);var t=o==null?void 0:(c=o.media)==null?void 0:c.edges;o=k(function(){r(24)},[r]);var u=(c=e==null?void 0:e.length)!=null?c:0;c=(c=t==null?void 0:t.length)!=null?c:0;var v=c+u,w=function(a){var c=e==null?void 0:e[a];return c!=null?j.jsx(b("CometAlbumUploadItem.react"),{attachment:c},a):j.jsx("div",{},a)},x=function(a){var c;if(a>=v)return j.jsx("div",{},a);c=t==null?void 0:(c=t[a-u])==null?void 0:c.node;return c==null?null:j.jsx(b("CometAlbumEditItem.react"),{media:c},a)};c=Array(v+12).fill().map(function(a,b){return b<u?w(b):x(b)}).filter(Boolean);return j.jsxs(b("CometComposerMediaDropTarget.react"),{disableVideo:d,children:[j.jsx(b("CometComposerHeadlessMediaUploader.react"),{mediaUploadLoggingMetadata:a}),j.jsx("div",{className:f?"cb02d2ww eip75gnj cddn0xzi":""}),j.jsxs("div",{className:"eg9m0zos mqzoxkkh",children:[j.jsx(b("CometFlexibleGrid.react"),{columnMaxWidth:m,columnMinWidth:n,justify:"center",minItems:v+12,children:c}),p&&j.jsx(b("CometInfiniteScrollTrigger.react"),{hasMore:p,isLoading:q,onLoadMore:o,children:j.jsx("div",{className:"oqcyycmt tr9rh885 sjgh65i0",children:j.jsx(b("CometProgressIndicator.react"),{})})})]})]})}e.exports=b("withComposerViewStatePart")(a,function(a){return{mediaAttachments:a.mediaAttachments}})}),null);
__d("composerAlbumCreateAudienceTransform",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){a=(a=a.audience)==null?void 0:a.privacy;if(a==null)throw b("unrecoverableViolation")("Trying to render composer with no privacy scope","comet_composer");d(babelHelpers["extends"]({},c,{privacy:a}))}e.exports=a}),null);
__d("composerAlbumCreateDescriptionTransform",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a=(a=a.albumData)==null?void 0:a.albumDescription;a==null?c(b):c(babelHelpers["extends"]({},b,{description:a}))}e.exports=a}),null);
__d("composerAlbumCreateTitleTransform",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a=(a=a.albumData)==null?void 0:a.albumTitle;a==null?c(b):c(babelHelpers["extends"]({},b,{title:a}))}e.exports=a}),null);
__d("composerAlbumContributorsTransform",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d,e=(d=(d=a.albumData)==null?void 0:d.albumBeginningContributorIDs)!=null?d:[];d=(a=(d=a.albumData)==null?void 0:d.albumContributors)!=null?a:[];var f=d.map(function(a){return a.getId()});a=f.filter(function(a){return!e.includes(a)}).filter(Boolean);d=e.filter(function(a){return!f.includes(a)}).filter(Boolean);(a==null||a.length===0)&&(d==null||d.length===0)?c(b):c(babelHelpers["extends"]({},b,{contributors_to_add:a,contributors_to_remove:d}))}e.exports=a}),null);
__d("composerAlbumDescriptionTransform",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a=(a=a.albumData)==null?void 0:a.albumDescription;a==null?c(b):c(babelHelpers["extends"]({},b,{description:a}))}e.exports=a}),null);
__d("composerAlbumTitleTransform",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a=(a=a.albumData)==null?void 0:a.albumTitle;a==null?c(b):c(babelHelpers["extends"]({},b,{title:a}))}e.exports=a}),null);
__d("composerAlbumMediaAttachmentTransform",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){if(a.fileType==="PHOTO"){var c,d=a.data.id;return b!=null&&b.has(d)?{photo:{id:d,message:{text:(c=b.get(d))!=null?c:""}}}:{photo:{id:d}}}else if(a.fileType==="VIDEO"){c=a.data.id;return c!=null&&b!=null&&b.has(c)?{video:{id:c,message:{text:(d=b.get(c))!=null?d:""}}}:{video:{id:c}}}}function a(a,b,c){var d,e=(d=a.albumData)==null?void 0:d.albumMediaDescriptions;a.mediaAttachments==null?c(b):c(babelHelpers["extends"]({},b,{attachments:a.mediaAttachments.map(function(a){return a.state==="UPLOADED"||a.state==="PREEXISTING"?g(a,e):null}).filter(Boolean)}))}e.exports=a}),null);