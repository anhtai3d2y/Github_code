if (self.CavalryLogger) { CavalryLogger.start_js(["VhN1i"]); }

__d("FBRTCIceStatsParser",[],(function(a,b,c,d,e,f){var g=null;a=function(){"use strict";function a(){}a.getInstance=function(){g||(g=new a());return g};var b=a.prototype;b.extractIceInfo=function(a){var b=[];a=a.split("\r\n");for(var c=0;c<a.length;c++){var d=a[c];this.$1(d)&&b.push({gen:this.$2(d),type:this.$3(d)})}return b};b.$1=function(a){return a.indexOf("candidate:")>-1};b.$2=function(a){var b=0;a=a.match(/generation (\d+)/);a&&(b=parseInt(a[1],10));return b};b.$3=function(a){a=a.match(/typ (host|relay|srflx|prflx)/);if(a)return a[1];else return"unknown"};return a}();e.exports=a}),null);
__d("FBRTCLocalUploadLogLevel",["CurrentUser","FBRTCConstants"],(function(a,b,c,d,e,f){"use strict";var g=b("FBRTCConstants").UploadLogLevel,h={getUploadLogLevel:function(a){return Math.max(h.getLocalUploadLogLevel(),a)},getLocalUploadLogLevel:function(){return b("CurrentUser").isEmployee()?g.LL_DEBUG:g.LL_NONE}};e.exports=h}),null);
__d("FBRTCMediaMetricTracker",["performanceNow"],(function(a,b,c,d,e,f){"use strict";var g,h={count:0,current:-1,first:-1,min:-1,max:-1,mean:-1,median:-1,startedTime:-1,total:-1,updatedTime:-1};a=function(){function a(){this.$2={},this.$3={},this.$4={},this.$1={},this.$5=null}var c=a.prototype;c.updateVideoSender=function(a,b,c){if(b==="video"&&this.$5!==null&&this.$5!==c&&this.$4[a]){b=a+((b=this.$5)!=null?b:"");this.$4[b]=babelHelpers["extends"]({},this.$4[a]);delete this.$4[a]}this.$5=c};c.getVideoStreamReportKeys=function(){return Object.keys(this.$4)};c.getJitterStreamReportKey=function(){return Object.keys(this.$2)};c.getAudioStreamReportKeys=function(){return Object.keys(this.$3)};c.addJitterBufferDelay=function(a,b){b!==null&&b!==void 0&&(this.$2[a]||(this.$2[a]=[]),this.$2[a].push(b))};c.setHistResScale=function(a,b,c){this.$1[a]||(this.$1[a]={contentType:b,histogram:[]}),this.$1[a]={contentType:b,histogram:c}};c.getHistResScale=function(a){return this.$1[a]?{contentType:this.$1[a].contentType,histogram:this.$1[a].histogram}:null};c.setVideoContentType=function(a,b){this.$4[a]||(this.$4[a]={}),this.$4[a].contentType=b};c.getVideoContentType=function(a){return this.$4[a].contentType};c.setVideoMetric=function(a,b,c){c!==null&&c!==void 0&&(this.$4[a]||(this.$4[a]={}),this.$4[a][b]=this.$6(this.$4[a][b],c))};c.$6=function(a,c){if(a!==null&&a!==void 0){a.current=c;a.updatedTime=(g||(g=b("performanceNow")))();a.total+=c;a.count+=1;a.min=Math.min(a.min,c);a.max=Math.max(a.max,c);a.mean=a.total/a.count;return a}else return{min:c,max:c,total:c,count:1,mean:c,first:c,startedTime:(g||(g=b("performanceNow")))(),current:c,updatedTime:g()}};c.getVideoMetric=function(a,b){return this.$4[a]?this.$4[a][b]:null};c.addMetricStat=function(a,b,c){c!==null&&c!==void 0&&(this.$3[a]||(this.$3[a]={}),this.$3[a][b]=this.$6(this.$3[a][b],c))};c.getMetricStats=function(a,b){return!this.$3[a]?null:this.$3[a][b]};c.getJitterBufferStats=function(a){if(!this.$2[a])return h;var b=this.$2[a].length;if(b===0)return h;this.$2[a].sort(function(a,b){return a-b});var c=this.$2[a].reduce(function(a,b){return a+b});if(b%2===0){var d=Math.floor((b-1)/2),e=Math.ceil((b-1)/2);d=(this.$2[a][d]+this.$2[a][e])/2}else d=this.$2[a][(b-1)/2];return{max:this.$2[a][b-1],min:this.$2[a][0],mean:c/b,median:d,total:c,count:b,first:-1,startedTime:-1,current:-1,updatedTime:-1}};c.toJsonString=function(){return JSON.stringify({stats:this.$3,jitterBufferDelays:this.$2,videoMetric:this.$4,histResScale:this.$1})};a.fromJsonString=function(b){var c=new a();try{b=JSON.parse(b),b=b}catch(a){return c}b.stats&&(c.$3=b.stats);b.jitterBufferDelays&&(c.$2=b.jitterBufferDelays);b.videoMetric&&(c.$4=b.videoMetric);b.histResScale&&(c.$1=b.histResScale);return c};return a}();e.exports=a}),null);
__d("FBRTCMediaMetricsConst",[],(function(a,b,c,d,e,f){"use strict";a={JITTER:"jitter",ACCELERATE_RATE:"accelerate_rate",DECODING_CNG:"decoding_cng",DECODING_NORMAL:"decoding_normal",DECODING_PLC:"decoding_plc",DECODING_PLC_CNG:"decoding_plc_cng",DISCARD_RATE:"discard_rate",EXPAND_RATE:"expand_rate",PREEMPTIVE_RATE:"preemptive_rate",AUDIO_PACKETS_RECEIVED:"audio_packets_received",AUDIO_PACKETS_RECEIVED_LOST:"audio_packets_received_lost",AUDIO_PACKETS_SENT:"audio_packets_sent",AUDIO_PACKETS_SENT_LOST:"audio_packets_sent_lost",VIDEO_BYTES_RECEIVED:"video_bytes_received",VIDEO_BYTES_SENT:"video_bytes_sent",INBOUND_QP:"inbound_qp",OUTBOUND_QP:"outbound_qp",FRAMES_ENCODED:"frames_encoded",FRAMES_DECODED:"frames_decoded",FRAMES_RECEIVED:"frames_received",FRAMES_SENT:"frames_sent",VIDEOBWE_SEND_BANDWIDTH:"videobwe_send_bandwidth",VIDEOBWE_TRANSMIT_BITRATE:"videobwe_transmit_bitrate",VIDEOBWE_RETRANSMIT_BITRATE:"videobwe_retransmit_bitrate",AUDIO_BYTES_SENT:"audio_bytes_sent",AUDIO_BYTES_RECEIVED:"audio_bytes_received",VIDEO_PKTS_SENT:"video_pkts_sent",VIDEO_PKTS_SEND_LOST:"video_pkts_send_lost",VIDEO_PKTS_RECEIVED:"video_pkts_received",VIDEO_PKTS_RECV_LOST:"video_pkts_receive_lost",AUDIO_RTT_RECEIVED:"audio_rtt_received",AUDIO_RTT_SENT:"audio_rtt_sent",VIDEO_FREEZE_COUNT:"video_freeze_cnt",VIDEO_CAPTURE_WIDTH:"video_capture_width",VIDEO_CAPTURE_HEIGHT:"video_capture_height",VIDEO_CAPTURE_FRAME_COUNT:"video_capture_frame_count",VIDEO_DECODED_WIDTH:"video_decoded_width",VIDEO_DECODED_HEIGHT:"video_decoded_height",VIDEO_ENCODED_WIDTH:"video_encoded_width",VIDEO_ENCODED_HEIGHT:"video_encoded_height"};e.exports=a}),null);
__d("FBRTCCallSummary",["requireCond","ChannelClientID","FBRTCConstants","FBRTCExperiment","cr:1440831","FBRTCIceStatsParser","FBRTCLocalUploadLogLevel","FBRTCLogger","FBRTCMediaMetricsConst","FBRTCMediaMetricTracker","SiteData","URI","UserAgentData","WebPerformanceDeviceInfo","gkx","performanceNow"],(function(a,b,c,d,e,f){var g,h,i=5*60*1e3,j={CALL_STARTED:"started",SENT_OFFER:"s_o",RECV_OFFER:"r_o",SENT_OFFER_ACK:"s_oack",RECV_OFFER_ACK:"r_oack",SENT_RETRIED_OFFER:"s_o2",RECV_RETRIED_OFFER:"r_o2",SENT_RETRIED_OFFER_ACK:"s_oack2",RECV_RETRIED_OFFER_ACK:"r_oack2",SENT_PRANSWER:"s_pr",RECV_PRANSWER:"r_pr",NETWORK_READY:"network_ready",SENT_ANSWER:"s_a",RECV_ANSWER:"r_a",SENT_ANSWER_ACK:"s_aack",RECV_ANSWER_ACK:"r_aack",SENT_RETRIED_ANSWER:"s_a2",RECV_RETRIED_ANSWER:"r_a2",SENT_RETRIED_ANSWER_ACK:"s_aack2",RECV_RETRIED_ANSWER_ACK:"r_aack2",SENT_OK:"s_ok",RECV_OK:"r_ok",CALL_CONNECTED:"connected",CALL_ENDED:"ended",SENT_JOIN_REQUEST:"s_jreq",RECV_JOIN_RESPONSE:"r_jresp",PROC_JOIN_RESPONSE:"p_jresp",RECV_RING_REQUEST:"r_rreq",SENT_RING_RESPONSE:"s_rresp"},k={FELLBACK_TO_AUDIO:"f_a",MEDIA_REQUESTED:"m_r",MEDIA_SUCCEEDED:"m_s",POPUP_OPENED:"opened",PRESSED_ANSWER:"p_a"},l={ESCALATION_IS_AVAILABLE:"esc_available",USER_INITIATED_REQUEST:"out_started",RECEIVED_INCOMING_REQUEST:"inc_started",REJECTED_INVALID_P2P_STATE:"rej_invalid_state",CONNECTING_TO_MULTIWAY:"u_connecting_mw",CONNECTED_TO_MULTIWAY:"u_connected_mw",PEER_CONNECTING_TO_MULTIWAY:"p_connecting_mw",PEER_CONNECTED_TO_MULTIWAY:"p_connected_mw",READY_TO_ESCALATE:"ready_esc",PEER_FAILED_TO_CONNECT_TO_MULTIWAY:"p_fail_conn",MULTIWAY_CALL_ENDED:"mw_call_ended",TIMED_OUT:"timed_out",PEER_ABORTED:"p_aborted",INTERNAL_ERROR:"internal_err"},m={ESCALATION_INITIATION_BUTTON_CLICKED:"esc_init_button",ESCALATION_APPROVED_BUTTON_CLICKED:"esc_appr_button",ESCALATION_DECLINED_BUTTON_CLICKED:"esc_decl_button",USERMEDIA_REQUEST:"media_req",USERMEDIA_SUCCESS:"media_success",USERMEDIA_FAILURE:"media_fail",SENT_ESC_REQUEST:"s_esc_req",RECV_ESC_REQUEST:"r_esc_req",SENT_ESC_REQUEST_ACK:"s_esc_req_ack",RECV_ESC_REQUEST_ACK:"s_esc_req_ack",SENT_ESC_RESPONSE:"s_esc_rep",RECV_ESC_ACCEPT:"r_esc_accept",RECV_ESC_DECLINE:"r_esc_decl",RECV_ESC_TIMEOUT:"r_esc_timeout"},n=[(a=b("FBRTCMediaMetricsConst")).ACCELERATE_RATE,a.DISCARD_RATE,a.EXPAND_RATE,a.PREEMPTIVE_RATE];function o(a){var c=new(g||(g=b("URI")))(window.location).getPath().includes("/videocall/");if(a==="MW_PEER_ID"&&!c){a=b("FBRTCExperiment").gen("rtc_www_zenon_platform_support");c=a.getBool("use_zenon_platform",!1,!1);if(c)return"ZenonPlatform"}a=b("gkx")("1154135");return a?"ZenonScotch":"Old Codebase"}c=function(){"use strict";a.nullSummary=function(){return new a({peerID:"0",callID:"0",isCaller:!1,callTrigger:"NULL_SUMMARY"})};function a(c){this.peerID=String(c.peerID),this.callID=String(c.callID),this.deviceID=b("ChannelClientID").getID(),this.$2=c.isCaller,this.$1=c.version||a.CURRENT_SUMMARY_VERSION,this.$3=b("FBRTCLocalUploadLogLevel").getLocalUploadLogLevel(),this.$15=new Date().valueOf(),this.$4=c.callTrigger||null,this.$6={},this.$8={},this.$9={},this.$14={},this.$34=null,this.$35=null,this.$36=null,this.$17=0,this.$18=0,this.$33=!1,this.$10={},this.$11={},this.$12={},this.$13={},this.$39=null,this.$38=null,this.$37=null,this.$5=o(this.peerID),this.$20=(h||(h=b("performanceNow")))(),this.$16=0,this.$7={},this.$19=this.$20,this.$21=0,this.$22={},this.addExtraInfo(b("FBRTCLogger").Key.DEVICE_INFO,this.$51()),this.$52(),this.$53(),this.$54(),this.$55(),this.$24=b("FBRTCIceStatsParser").getInstance(),this.$47=new(b("FBRTCMediaMetricTracker"))(),this.$23=b("FBRTCLogger").getInstance()}var c=a.prototype;c.toJsonString=function(){this.$18=new Date().valueOf();return JSON.stringify({version:this.$1,peerID:this.peerID,callID:this.callID,deviceID:this.deviceID,isCaller:this.$2,uploadLogLevel:this.$3,callType:this.$29,conferenceName:this.$26,joinWithSID:this.$27,activeConn:this.$25,escP2PCallID:this.$28,serverInfoData:this.$30,localVideoDuration:this.$31,remoteVideoDuration:this.$32,startTime:this.$15,trigger:this.$4,signalingTime:this.$6,escStateTimes:this.$8,applicationEventTime:this.$9,videoEscTimes:this.$14,endCallReason:this.$34,endCallSubreason:this.$35,isRemoteEnded:this.$36,lastUpdatedTime:this.$17,lastSerializedTime:this.$18,unsetOnRetrieve:this.$33,openCount:this.$21,extraInfo:this.$22,gen0IceSentCount:this.$10,gen0IceReceivedCount:this.$11,iceSentCount:this.$12,iceReceivedCount:this.$13,connectionType:this.$39,mediaMetricStats:this.$47.toJsonString(),newSignalingTime:this.$7,accumulatedCallTime:this.$56(),deviceCharged:this.$41,videoReceivedCodec:this.$42,videoSentCodec:this.$43,videoDevice:this.$44,audioDevice:this.$45,audioSentCodec:this.$46,relayIP:this.$40,clientVersion:this.$5,pcIsConnected:this.$37,endIsConnected:this.$38,maxTotalDecodeTime:this.$48,totalDecodeTime:this.$49,totalEncodeTime:this.$50})};a.fromJsonString=function(c){var d;try{c=JSON.parse(c)}catch(a){return null}if(c.version<a.OLDEST_SUPPORTED_SUMMARY_VERSION)return null;if(!Object.prototype.hasOwnProperty.call(c,"peerID")||!Object.prototype.hasOwnProperty.call(c,"callID")||!Object.prototype.hasOwnProperty.call(c,"isCaller")||!Object.prototype.hasOwnProperty.call(c,"startTime")||!Object.prototype.hasOwnProperty.call(c,"trigger")||!Object.prototype.hasOwnProperty.call(c,"signalingTime")||!Object.prototype.hasOwnProperty.call(c,"endCallReason")||!Object.prototype.hasOwnProperty.call(c,"isRemoteEnded")||!Object.prototype.hasOwnProperty.call(c,"lastUpdatedTime")||!Object.prototype.hasOwnProperty.call(c,"lastSerializedTime"))return null;var e=new a({peerID:c.peerID,callID:c.callID,isCaller:c.isCaller});e.deviceID=c.deviceID;e.$1=c.version;e.$3=c.uploadLogLevel;e.$15=c.startTime;e.$4=c.trigger;e.$5=c.clientVersion;e.$6=c.signalingTime;e.$34=c.endCallReason;e.$35=c.endCallSubreason;e.$36=c.isRemoteEnded;e.$17=c.lastUpdatedTime;e.$18=c.lastSerializedTime;e.$27=c.joinWithSID;e.$38=(d=c.endIsConnected)!=null?d:null;e.$37=(d=c.pcIsConnected)!=null?d:null;c.callType&&(e.$29=c.callType);c.conferenceName&&(e.$26=c.conferenceName);c.escP2PCallID&&(e.$28=c.escP2PCallID);c.activeConn&&(e.$25=c.activeConn);c.serverInfoData&&(e.$30=c.serverInfoData);c.localVideoDuration&&(e.$31=c.localVideoDuration);c.remoteVideoDuration&&(e.$32=c.remoteVideoDuration);c.unsetOnRetrieve&&(e.$33=c.unsetOnRetrieve);c.openCount&&(e.$21=c.openCount);c.extraInfo&&(e.$22=c.extraInfo);c.gen0IceSentCount&&(e.$10=c.gen0IceSentCount);c.gen0IceReceivedCount&&(e.$11=c.gen0IceReceivedCount);c.iceSentCount&&(e.$12=c.iceSentCount);c.iceReceivedCount&&(e.$13=c.iceReceivedCount);c.newSignalingTime&&(e.$7=c.newSignalingTime);c.accumulatedCallTime&&(e.$16=c.accumulatedCallTime);c.escStateTimes&&(e.$8=c.escStateTimes);c.applicationEventTime&&(e.$9=c.applicationEventTime);c.videoEscTimes&&(e.$14=c.videoEscTimes);c.mediaMetricStats&&(e.$47=b("FBRTCMediaMetricTracker").fromJsonString(c.mediaMetricStats));c.connectionType&&(e.$39=c.connectionType);c.deviceCharged&&(e.$41=c.deviceCharged);c.videoReceivedCodec!==null&&(e.$42=c.videoReceivedCodec);c.videoSentCodec!==null&&(e.$43=c.videoSentCodec);c.videoDevice!==null&&(e.$44=c.videoDevice);c.audioDevice!==null&&(e.$45=c.audioDevice);c.audioSentCodec!==null&&(e.$46=c.audioSentCodec);c.relayIP!==null&&c.relayIP!==void 0&&(e.$40=c.relayIP);c.maxTotalDecodeTime!==null&&c.maxTotalDecodeTime!==void 0&&(e.$48=c.maxTotalDecodeTime);c.totalDecodeTime!=null&&(e.$49=c.totalDecodeTime);c.totalEncodeTime!=null&&(e.$50=c.totalEncodeTime);return e};a.restoreOrInitialize=function(c,d,e,f,g,h){d=String(d);e=String(e);c=c.retrieveCallSummary(d,e);!c?(c=new a({peerID:d,callID:e,isCaller:f}),g?(c.onFullMessageReceived({msg:g}),c.onOfferAckSent(g)):c.onCallStarted(h||b("FBRTCLogger").Trigger.UNKNOWN),h!==b("FBRTCLogger").Trigger.REDIAL_BUTTON&&b("FBRTCLogger").getInstance().logError(d,e,"Missing call summary from storage")):c.$33&&(c.$38=null,c.$34=null,c.$35=null,c.$36=null,delete c.$6[j.CALL_ENDED],delete c.$7[j.CALL_ENDED],c.$20=0,c.$33=null);return c};a.logSavedSummaries=function(a){var c=a.getLoggableSummaries(),d=c.length;if(d<=0)return;var e=b("FBRTCLogger").getInstance(),f=[];for(var g=0;g<d;g++){var h=c[g];e.logEndCallSummary(h);f.push({peerID:h.peerID,callID:h.callID})}a.removeCallSummaries(f);e.logToConsole("Logged pending summaries: "+d)};c.logThisSummary=function(a,c){c===void 0&&(c=!1);var d=b("FBRTCLogger").getInstance();a.retrieveCallSummary(this.peerID,this.callID)!=null&&(d.logEndCallSummary(this,c),a.removeCallSummary(this.peerID,this.callID),d.logToConsole("Logged active summary"))};c.isNull=function(){var b=a.CANONICAL_NULL_SUMMARY;return this.peerID===b.peerID&&this.callID===b.callID&&this.isCaller()===b.isCaller()&&this.getCallTrigger()===b.getCallTrigger()};c.save=function(a){var c=(h||(h=b("performanceNow")))(),d=c-this.$19;if(d>i){this.$23.logInfo(this.peerID,this.callID,"Summary too old: "+d);return}b("cr:1440831")&&b("cr:1440831").logCallSummaryHeartbeat(this,"interval");a.storeCallSummary(this.peerID,this.callID,this);this.$19=c};c.getVersion=function(){return this.$1};c.getLastUpdatedTime=function(){return this.$17};c.setLastUpdatedTime=function(a){this.$17=a};c.getExtraInfo=function(){return this.$22};c.getCallTrigger=function(){return this.$4};c.addExtraInfo=function(a,b){this.$22[a]=b,this.$55()};c.isCaller=function(){return this.$2};c.isNetworkReady=function(){if(this.$6[j.NETWORK_READY])return!0;else return!1};c.isAnswerReceived=function(){if(this.$6[j.RECV_ANSWER])return!0;else return!1};c.onCallStarted=function(a){this.$4=a,this.$57(j.CALL_STARTED),this.$55()};c.setCallTrigger=function(a){this.$4=a,this.$55()};c.setPCIsConnected=function(a){this.$37=a};c.onPopupOpened=function(){this.deviceID=b("ChannelClientID").getID(),this.$58(k.POPUP_OPENED),this.$21++,this.$55()};c.onPressedAnswer=function(){this.$58(k.PRESSED_ANSWER),this.$55()};c.onMediaRequested=function(){this.$58(k.MEDIA_REQUESTED),this.$55()};c.onMediaSucceeded=function(){this.$58(k.MEDIA_SUCCEEDED),this.$55()};c.onFellbackToAudio=function(){this.$58(k.FELLBACK_TO_AUDIO),this.$55()};c.setConnectionType=function(a){this.$39=a,this.$55()};c.setUploadLogLevel=function(a){this.$3=a,this.$55()};c.getCallType=function(){return this.$29};c.setCallType=function(a){this.$29=a,this.addExtraInfo(b("FBRTCLogger").Key.CALL_TYPE,a),this.$55()};c.setVideoDurations=function(a,b){this.$31=a,this.$32=b,this.$55()};c.setAudioDevice=function(a){this.$45=a};c.setVideoDevice=function(a){this.$44=a};c.setScreenDuration=function(a){this.addExtraInfo(b("FBRTCLogger").Key.SCREEN_DURATION,a)};c.setConferenceName=function(a){this.$26=a,this.$55()};c.setTotalVideoFilterDuration=function(a){this.addExtraInfo(b("FBRTCLogger").Key.VIDEO_DURATION_WITH_FILTER,Math.ceil(a).toString())};c.setCoExperienceEffectDuration=function(a){this.addExtraInfo(b("FBRTCLogger").Key.EFFECT_TOTAL_DURATION,Math.ceil(a).toString())};c.setEffectCount=function(a){this.addExtraInfo(b("FBRTCLogger").Key.EFFECT_COUNT,a.toString())};c.setJoinWithSID=function(a){this.$27=a,this.$55()};c.setServerInfoData=function(a){this.$30=a,this.$55()};c.setActiveConnection=function(a){this.$25=a,this.$55()};c.setEscalationP2PCallID=function(a){this.$28=a,this.$55()};c.onOfferAckSent=function(a){this.onMessageSent({type:b("FBRTCConstants").PayloadType.OFFER_ACK,flag:a.flag})};c.onMessageSent=function(a){var c=a.flag===1;switch(a.type){case b("FBRTCConstants").PayloadType.OFFER:this.$59(c,j.SENT_OFFER,j.SENT_RETRIED_OFFER);this.$60(a,this.$10,this.$12);break;case b("FBRTCConstants").PayloadType.ANSWER:this.$59(c,j.SENT_ANSWER,j.SENT_RETRIED_ANSWER);this.$60(a,this.$10,this.$12);break;case b("FBRTCConstants").PayloadType.OK:this.$57(j.SENT_OK);break;case b("FBRTCConstants").PayloadType.PRANSWER:this.$57(j.SENT_PRANSWER);break;case b("FBRTCConstants").PayloadType.OFFER_ACK:this.$59(c,j.SENT_OFFER_ACK,j.SENT_RETRIED_OFFER_ACK);break;case b("FBRTCConstants").PayloadType.ANSWER_ACK:this.$59(c,j.SENT_ANSWER_ACK,j.SENT_RETRIED_ANSWER_ACK);break;case b("FBRTCConstants").PayloadType.ICE_CANDIDATE:this.$60(a,this.$10,this.$12);break;case b("FBRTCConstants").PayloadType.ACK:a.ack_type===b("FBRTCConstants").PayloadType.VIDEO_REQUEST&&this.$61(m.SENT_ESC_REQUEST_ACK);break;case b("FBRTCConstants").PayloadType.VIDEO_REQUEST:a.ack_id?this.$61(m.SENT_ESC_RESPONSE):this.$61(m.SENT_ESC_REQUEST);break;default:}this.$55()};c.$60=function(a,b,c){var d,e=null;a=this.$24.extractIceInfo(a.sdp);for(var f=0;f<a.length;f++)d=a[f].gen,e=a[f].type,d===0&&this.$62(b,e),this.$62(c,e)};c.$62=function(a,b){!a[b]?a[b]=1:a[b]+=1};c.$63=function(a){this.addExtraInfo(b("FBRTCLogger").Key.PEER_IS_MOBILE,a.isFromMobile()?"1":"0")};c.onFullMessageReceived=function(a){var c=a.msg,d=c.flag===1;switch(c.type){case b("FBRTCConstants").PayloadType.OFFER:this.$63(a);this.$59(d,j.RECV_OFFER,j.RECV_RETRIED_OFFER);this.$60(c,this.$11,this.$13);break;case b("FBRTCConstants").PayloadType.ANSWER:this.$63(a);this.$59(d,j.RECV_ANSWER,j.RECV_RETRIED_ANSWER);this.$60(c,this.$11,this.$13);break;case b("FBRTCConstants").PayloadType.OK:this.$57(j.RECV_OK);break;case b("FBRTCConstants").PayloadType.PRANSWER:this.$57(j.RECV_PRANSWER);break;case b("FBRTCConstants").PayloadType.OFFER_ACK:this.$59(d,j.RECV_OFFER_ACK,j.RECV_RETRIED_OFFER_ACK);break;case b("FBRTCConstants").PayloadType.ANSWER_ACK:this.$59(d,j.RECV_ANSWER_ACK,j.RECV_RETRIED_ANSWER_ACK);break;case b("FBRTCConstants").PayloadType.ICE_CANDIDATE:this.$60(c,this.$11,this.$13);break;case b("FBRTCConstants").PayloadType.ACK:c.ack_type===b("FBRTCConstants").PayloadType.VIDEO_REQUEST&&this.$61(m.RECV_ESC_REQUEST_ACK);break;case b("FBRTCConstants").PayloadType.VIDEO_REQUEST:c.ack_id?c.videoon||c.reqVideoOn?this.$61(m.RECV_ESC_ACCEPT):this.$61(m.RECV_ESC_DECLINE):c.videoon||c.reqVideoOn?this.$61(m.RECV_ESC_REQUEST):this.$61(m.RECV_ESC_TIMEOUT);break;default:}this.$55()};c.onMsgAckReceived=function(a,b){a=a.msg.flag===1;b?this.$59(a,j.RECV_OFFER_ACK,j.RECV_RETRIED_OFFER_ACK):this.$59(a,j.RECV_ANSWER_ACK,j.RECV_RETRIED_ANSWER_ACK)};c.onNetworkReady=function(){this.$57(j.NETWORK_READY),this.$55()};c.onCallConnected=function(){this.$57(j.CALL_CONNECTED),this.$55()};c.onCallEnded=function(a,b,c,d){this.$33=c,this.$34=a,this.$35=d,this.$36=b,this.$38===null&&(this.$38=this.$37),this.$57(j.CALL_ENDED),this.$55()};c.setOfferSentTime=function(){this.$57(j.SENT_OFFER)};c.setOfferAckReceivedTime=function(){this.$57(j.RECV_OFFER_ACK)};c.setAnswerSentTime=function(){this.$57(j.SENT_ANSWER)};c.setAnswerReceivedTime=function(){this.$57(j.RECV_ANSWER)};c.setJoinRequestSent=function(){this.$57(j.SENT_JOIN_REQUEST),this.$55()};c.setJoinResponseReceived=function(){this.$57(j.RECV_JOIN_RESPONSE),this.$55()};c.setJoinResponseProcessed=function(){this.$57(j.PROC_JOIN_RESPONSE),this.$55()};c.setRingRequestReceived=function(){this.$57(j.RECV_RING_REQUEST),this.$55()};c.setRingResponseSent=function(){this.$57(j.SENT_RING_RESPONSE),this.$55()};c.setEscalationAvailable=function(){this.$64(l.ESCALATION_IS_AVAILABLE)};c.setEscalationInitiated=function(){this.$64(l.USER_INITIATED_REQUEST)};c.setReceivedEscalationRequest=function(){this.$64(l.RECEIVED_INCOMING_REQUEST)};c.setInvalidP2PEscalationState=function(){this.$64(l.REJECTED_INVALID_P2P_STATE)};c.setEscalationConnectingToMultiway=function(){this.$64(l.CONNECTING_TO_MULTIWAY)};c.setEscalationConnectedToMultiway=function(){this.$64(l.CONNECTED_TO_MULTIWAY)};c.setEscalationPeerConnectingToMultiway=function(){this.$64(l.PEER_CONNECTING_TO_MULTIWAY)};c.setEscalationPeerConnectedToMultiway=function(){this.$64(l.PEER_CONNECTED_TO_MULTIWAY)};c.setReadyToEscalate=function(){this.$64(l.READY_TO_ESCALATE)};c.setEscalationPeerFailedToConnectToMultiway=function(){this.$64(l.PEER_FAILED_TO_CONNECT_TO_MULTIWAY)};c.setEscalationTimedOut=function(){this.$64(l.TIMED_OUT)};c.setVidEscalationInitClick=function(){this.$61(m.ESCALATION_INITIATION_BUTTON_CLICKED)};c.setVidEscalationAcceptedClick=function(){this.$61(m.ESCALATION_APPROVED_BUTTON_CLICKED)};c.setVidEscalationDeclinedClick=function(){this.$61(m.ESCALATION_DECLINED_BUTTON_CLICKED)};c.setVidEscalationMediaRequested=function(){this.$61(m.USERMEDIA_REQUEST)};c.setVidEscalationMediaSuccess=function(){this.$61(m.USERMEDIA_SUCCESS)};c.setVidEscalationMediaFailed=function(){this.$61(m.USERMEDIA_FAILURE)};c.setVideoCapabilities=function(a){this.addExtraInfo(b("FBRTCLogger").Key.VIDEO_CAPABILITIES,a)};c.setMediaInputs=function(a){this.addExtraInfo(b("FBRTCLogger").Key.MEDIA_INPUTS,a)};c.getVideoReceivedCodec=function(){return this.$42};c.setVideoReceivedCodec=function(a){this.$42=a};c.getVideoSentCodec=function(){return this.$43};c.setVideoSentCodec=function(a){this.$43=a};c.getAudioSentCodec=function(){return this.$46};c.setAudioSentCodec=function(a){this.$46=a};c.setVideoMaxTotalDecodeTime=function(a){this.$48=a};c.getTotalDecodeTime=function(){return this.$49};c.setTotalDecodeTime=function(a){this.$49=a};c.getTotalEncodeTime=function(){return this.$50};c.setTotalEncodeTime=function(a){this.$50=a};c.toString=function(){var a={};a.core_metrics=this.$65();a.time_series=null;return JSON.stringify(a)};c.$65=function(){var a={};a.ver=this.$1;a.log_level=b("FBRTCConstants").uploadLogLevelString(this.$3);a.caller=this.$2;a.call_type=this.$29;a.active_conn=this.$25;a.app_event_times=this.$9;a.conf_name=this.$26;a.CoreAudioMetrics=this.$66();a.join_with_sid=this.$27;a.esc_p2p_call_id=this.$28;a.esc_state_times=this.$8;a.vid_esc_times=this.$14;a.serv_info=this.$30;a.conn=this.$67();a.peer_id=this.peerID;a.has_video=!0;a.open_count=this.$21;a.signaling=this.$68();a.sender=this.$69();a.receiver=this.$70();a.end=this.$71();a.video=this.$72();a.push_phase=b("SiteData").push_phase;a.DebugAudioMetrics=this.$73();a.device_charged=this.$41;a.client_version=this.$5;a.perf=this.$74();return a};c.$73=function(){return{NetworkReceive:{jb_nm:this.$75()}}};c.$76=function(a,b,c){var d=this,e=0,f=0;b==null&&(b=1);var g=this.$47.getVideoStreamReportKeys();g.forEach(function(b){if(c==null||d.$47.getVideoContentType(b)===c){b=d.$47.getVideoMetric(b,a);b&&(e+=b.current,f+=1)}});return f===0?null:Math.round(e*b)};c.$77=function(a,b){var c=this,d=0,e=0;b==null&&(b=1);var f=this.$47.getAudioStreamReportKeys();f.forEach(function(b){b=c.$47.getMetricStats(b,a);b&&(d+=b.current,e+=1)});return e===0?null:Math.round(d*b)};c.$75=function(){var a=this,b={},c=this.$47.getAudioStreamReportKeys();if(c.length<1)return b;var d=c[c.length-1];n.forEach(function(c){var e=a.$47.getMetricStats(d,c);e&&(b[c]={m:e.min,M:e.max,avg:e.mean})});c=this.$47.getJitterBufferStats(d);b.neteq={maxWait:c.max,meanWait:c.mean||0,mediaWait:c.median||0,minWait:c.min};return b};c.$66=function(){var a={audio_device:this.$45};return a};c.$67=function(){var a={dtls:1},b=this.$69();b.avgrtt&&(a.avgrtt=b.avgrtt,a.maxrtt=b.maxrtt,a.minrtt=b.minrtt);this.$40!==null&&(a.relay_ip=this.$40);return a};c.$68=function(){var a={};this.$4&&(a.trigger=this.$4);a.start_time=this.$15;a.time_from_start=this.$6;a.new_time_from_start=this.$7;var b=this.$78();b>0&&(a.duration=b);return a};c.$78=function(a){var b=this.$7[j.CALL_CONNECTED]||this.$7[j.NETWORK_READY];if(!b)return 0;a=this.$7[j.CALL_ENDED]||!(a==null?void 0:a.assumeOngoing)&&this.$16||this.$56();return Math.max(0,a-b)};c.$69=function(){var a=this,c={},d=this.$47.getAudioStreamReportKeys();d.some(function(d){d=a.$47.getMetricStats(d,b("FBRTCMediaMetricsConst").AUDIO_BYTES_SENT);if(d!=null){c.bytes=d.current;var e=d.updatedTime-d.startedTime;if(e>0){c.ube_avg=(d.current-d.first)*8/e*1e3;return!0}}return!1});d.some(function(d){d=a.$47.getMetricStats(d,b("FBRTCMediaMetricsConst").AUDIO_PACKETS_SENT_LOST);if(d){c.plost=d.current;return!0}return!1});d.some(function(d){d=a.$47.getMetricStats(d,b("FBRTCMediaMetricsConst").AUDIO_PACKETS_SENT);if(d){c.psent=d.current;return!0}return!1});d.some(function(d){d=a.$47.getMetricStats(d,b("FBRTCMediaMetricsConst").AUDIO_RTT_SENT);if(d){c.avgrtt=d.mean;c.maxrtt=d.max;c.minrtt=d.min;return!0}return!1});this.$10&&(c.ice_g0=this.$10);this.$12&&(c.ice=this.$12);this.$46!=null&&this.$46!==""&&(c.codec={www:this.$46});return c};c.$70=function(){var a=this,c={},d=this.$47.getAudioStreamReportKeys(),e=0,f=0,g=0,h=0;d.forEach(function(c){var d,i=a.$47.getMetricStats(c,(d=b("FBRTCMediaMetricsConst")).DECODING_PLC),j=a.$47.getMetricStats(c,d.DECODING_PLC_CNG),k=a.$47.getMetricStats(c,d.DECODING_CNG);c=a.$47.getMetricStats(c,d.DECODING_NORMAL);k!=null&&c!=null&&i!=null&&j!=null&&(e+=i.current,f+=j.current,g+=k.current,h+=c.current)});c.dec_plc=e;c.dec_plc_cng=f;c.dec_cng=g;c.dec_normal=h;c.neteq_calls=g+h+e+f;var i=0;d.forEach(function(c){c=a.$47.getMetricStats(c,b("FBRTCMediaMetricsConst").AUDIO_BYTES_RECEIVED);c&&(i+=c.current)});c.bytes=i;d.some(function(d){d=a.$47.getMetricStats(d,b("FBRTCMediaMetricsConst").AUDIO_BYTES_RECEIVED);if(d){var e=d.updatedTime-d.startedTime;if(e>0){c.dbe_avg=(d.current-d.first)*8/e*1e3;return!0}}return!1});var j=0;d.forEach(function(c){c=a.$47.getMetricStats(c,b("FBRTCMediaMetricsConst").AUDIO_PACKETS_RECEIVED_LOST);c&&(j+=c.current)});c.plost=j;var k=0;d.forEach(function(c){c=a.$47.getMetricStats(c,b("FBRTCMediaMetricsConst").AUDIO_PACKETS_RECEIVED);c&&(k+=c.current)});c.precv=k;d.some(function(d){d=a.$47.getMetricStats(d,b("FBRTCMediaMetricsConst").AUDIO_RTT_RECEIVED);if(d){c.avgrtt=d.mean;c.maxrtt=d.max;c.minrtt=d.min;return!0}return!1});this.$11&&(c.ice_g0=this.$11);this.$13&&(c.ice=this.$13);return c};c.$71=function(){var a={};this.$34!=null&&(a.end_call_reason_string=b("FBRTCConstants").callEndReasonString(this.$34),this.$35!==null&&(a.end_call_subreason_string=this.$35),a.remote_ended=this.$36,a.end_ctd=this.$38);this.$39&&(a.conn_type=this.$39);return a};c.$72=function(){var a;a={ch:null,cw:null,ah:null,aw:null,ename:this.$43,fcap:this.$76((a=b("FBRTCMediaMetricsConst")).VIDEO_CAPTURE_FRAME_COUNT),eqps:this.$76(a.OUTBOUND_QP),frames:this.$76(a.FRAMES_ENCODED),fcsn:this.$76(a.FRAMES_SENT),histResScale:null,psent:this.$76(a.VIDEO_PKTS_SENT),plost:this.$76(a.VIDEO_PKTS_SEND_LOST),ss:{dur:null,eqps:this.$76(a.OUTBOUND_QP,1,"screen"),frames:this.$76(a.FRAMES_ENCODED,1,"screen")},video_device:this.$44};return{sender:this.$79(a),receiver:this.$80(),ld:this.$31,rd:this.$32,bwe:this.$81()}};c.$74=function(){var a,b=this.$78()/1e3;if(b<=0)return;a=((a=this.$49)!=null?a:0)+((a=this.$50)!=null?a:0);a=Math.round(100*(a/b));return{cpu:{proc:{avg:a}}}};c.$81=function(){var a=this,c={avg_enc_bitrate:this.$82(),avg_send_bw:this.$83(),avg_trans_bitrate:null,avg_retrans_bitrate:null},d=this.$47.getVideoStreamReportKeys();d.some(function(d){var e=a.$47.getVideoMetric(d,b("FBRTCMediaMetricsConst").VIDEOBWE_TRANSMIT_BITRATE);d=a.$47.getVideoMetric(d,b("FBRTCMediaMetricsConst").VIDEOBWE_RETRANSMIT_BITRATE);if(e&&d){c.avg_trans_bitrate=e.mean;c.avg_retrans_bitrate=d.mean;return!0}return!1});return c};c.$82=function(){var a=this,c=this.$47.getVideoStreamReportKeys(),d=null;c.some(function(c){c=a.$47.getVideoMetric(c,b("FBRTCMediaMetricsConst").VIDEO_BYTES_SENT);if(c){var e=c.current-c.first;c=c.updatedTime-c.startedTime;if(c>0){d=e*8/c*1e3;return!0}}return!1});return d};c.$83=function(){var a=this,c=this.$47.getVideoStreamReportKeys(),d=null;c.some(function(c){d=a.$47.getVideoMetric(c,b("FBRTCMediaMetricsConst").VIDEOBWE_SEND_BANDWIDTH);return d?!0:!1});d&&(d=d.mean);return d};c.$79=function(a){var c=this,d=this.$47.getVideoStreamReportKeys(),e=new Array(5).fill(0),f=0;d.forEach(function(a){a=c.$47.getHistResScale(a);a&&(f+=1,a.histogram.forEach(function(a,b){e[b]+=a}))});a.histResScale=f===0?null:e;d.reverse().some(function(d){var e,f=c.$47.getVideoMetric(d,(e=b("FBRTCMediaMetricsConst")).VIDEO_CAPTURE_WIDTH),g=c.$47.getVideoMetric(d,e.VIDEO_CAPTURE_HEIGHT),h=c.$47.getVideoMetric(d,e.VIDEO_ENCODED_WIDTH);d=c.$47.getVideoMetric(d,e.VIDEO_ENCODED_HEIGHT);f&&g&&(a.cw=f.current,a.ch=g.current);if(h&&d){a.aw=h.current;a.ah=d.current;return!0}return!1});this.$22[b("FBRTCLogger").Key.SCREEN_DURATION]!=null&&typeof this.$22[b("FBRTCLogger").Key.SCREEN_DURATION]==="number"&&(a.ss.dur=this.$22[b("FBRTCLogger").Key.SCREEN_DURATION]);return a};c.$80=function(){var a=this,c=this.$47.getVideoStreamReportKeys(),d=0,e=0,f=0,g=0,h=0;c.forEach(function(c){var i=a.$47.getVideoMetric(c,b("FBRTCMediaMetricsConst").VIDEO_PKTS_RECEIVED),j=a.$47.getVideoMetric(c,b("FBRTCMediaMetricsConst").VIDEO_PKTS_RECV_LOST);i&&j&&(f+=i.current,g+=j.current);i=a.$47.getVideoMetric(c,b("FBRTCMediaMetricsConst").VIDEO_BYTES_RECEIVED);i&&(d+=i.current-i.first,e+=i.updatedTime-i.startedTime);j=a.$47.getVideoMetric(c,b("FBRTCMediaMetricsConst").FRAMES_DECODED);j&&(h+=j.current)});var i={dec_bytes:d,dec_frame:h,dec_time:this.$48?Math.round(this.$48):null,dec_time_all_streams:Math.round(e),dname:this.$42,frd:h,frcnt:null,jtasb:null,precv:f,plost:g,qps:this.$76(b("FBRTCMediaMetricsConst").INBOUND_QP),rh:null,rw:null};i.frcnt=c.reduce(function(c,d){d=a.$47.getVideoMetric(d,b("FBRTCMediaMetricsConst").VIDEO_FREEZE_COUNT);return c+(d?d.current:0)},0);var j=0;c.forEach(function(c){var d=a.$47.getVideoMetric(c,b("FBRTCMediaMetricsConst").VIDEO_DECODED_HEIGHT);c=a.$47.getVideoMetric(c,b("FBRTCMediaMetricsConst").VIDEO_DECODED_WIDTH);c&&d&&c.updatedTime>j&&(i.rw=c.current,i.rh=d.current,j=c.updatedTime)});i.jtasb=c.reduce(function(c,d){d=a.$47.getVideoMetric(d,b("FBRTCMediaMetricsConst").FRAMES_RECEIVED);return c+(d?d.current:0)},0);return i};c.$84=function(){return new Date().valueOf()-this.$15};c.$56=function(){var a=(h||(h=b("performanceNow")))()-this.$20;return Math.floor(this.$16+a)};c.$57=function(a){if(this.$6[a])return;this.$6[a]=this.$84();this.$7[a]=this.$56()};c.$64=function(a){if(this.$8[a])return;this.$8[a]=this.$84()};c.$58=function(a){if(this.$9[a])return;this.$9[a]=this.$84()};c.$61=function(a){if(this.$14[a])return;this.$14[a]=this.$84()};c.setDeviceCharged=function(a){this.$41!==!0&&(this.$41=a)};c.$59=function(a,b,c){a?this.$57(c):this.$57(b)};c.$55=function(){this.$17=new Date().valueOf()};c.$51=function(){var a=b("UserAgentData").platformName,c=b("UserAgentData").browserName;window.navigator.userAgent.toLowerCase().includes("mobile")&&(a+=" Mobile",c==="Chrome"&&(c="Mobile "+c));return{device:b("UserAgentData").deviceName,os:a,os_version:b("UserAgentData").platformFullVersion,browser:c,browser_version:b("UserAgentData").browserFullVersion,screen_height:window.screen.availHeight,screen_width:window.screen.availWidth,user_agent:window.navigator.userAgent}};c.$52=function(){window.navigator.connection!=null&&window.navigator.connection.effectiveType!=null&&this.addExtraInfo(b("FBRTCLogger").Key.CONNECTION_EFFECTIVE_TYPE,window.navigator.connection.effectiveType)};c.$54=function(){var a=b("WebPerformanceDeviceInfo").getMobileYearClass();a!=null&&a>0?this.addExtraInfo(b("FBRTCLogger").Key.YEAR_CLASS,a):this.addExtraInfo(b("FBRTCLogger").Key.DESKTOP_DEVICE_CLASS,b("WebPerformanceDeviceInfo").getDeviceLevel())};c.$53=function(){navigator.hardwareConcurrency!=null&&this.addExtraInfo(b("FBRTCLogger").Key.CPU_CORES,navigator.hardwareConcurrency),window.navigator.deviceMemory!=null&&this.addExtraInfo(b("FBRTCLogger").Key.DEVICE_MEMORY,window.navigator.deviceMemory),this.addExtraInfo(b("FBRTCLogger").Key.DEVICE_PIXEL_RATIO,window.devicePixelRatio)};c.getCallDuration=function(){var a=b("gkx")("707989");return this.$78({assumeOngoing:a})};c.getConnectedStartTime=function(){return this.$6[j.CALL_CONNECTED]?this.$6[j.CALL_CONNECTED]+this.$15:0};c.getCurrentTimeFromCallConnected=function(){var a=this.$7[j.CALL_CONNECTED];return this.$56()-a};c.getMediaMetricTracker=function(){return this.$47};c.getEndCallReason=function(){return this.$34!=null?b("FBRTCConstants").callEndReasonString(this.$34):"Unknown"};c.getRelayIP=function(){return this.$40};c.setRelayIP=function(a){this.$40=a};c.getClientVersion=function(){return this.$5};c.getHeartbeatData=function(){return this.$65()};c.wasCallEnded=function(){return this.$6[j.CALL_ENDED]!=null};return a}();c.CANONICAL_NULL_SUMMARY=Object.freeze(c.nullSummary());c.OLDEST_SUPPORTED_SUMMARY_VERSION=19;c.CURRENT_SUMMARY_VERSION=24;c.REPORT_KEY="reportID";e.exports=c}),null);
__d("FBRTCCallSummaryStore",["CacheStorage","FBLogger","FBRTCCallSummary","FBRTCLogger","RTWebUserActionLogger","areEqual","setTimeout"],(function(a,b,c,d,e,f){"use strict";var g,h="localstorage",i="RTC_CALL_SUMMARY_",j="summary",k=2e3,l=3,m=3*60*1e3,n=null;a=function(){a.getInstance=function(){n||(n=new a());return n};function a(){this.$1=new(b("CacheStorage"))(h,i),this.$2=b("FBRTCLogger").getInstance()}var c=a.prototype;c.storeCallSummary=function(a,c,d){if(d.isNull()){b("RTWebUserActionLogger").logError({errorDomain:"FBRTCCallSummaryStore_storeCallSummary",errorType:"FBRTCCallSummaryStore Storing invalid FBRTCCallSummary!",callID:c,userID:a});b("FBLogger")("rtweb").mustfix("Storing invalid FBRTCCallSummary!");return}var e=this;this.$3(function(b){b[a]||(b[a]={});var f=b[a][c];if(f){f=e.$4(f);if(f&&f.getLastUpdatedTime()>d.getLastUpdatedTime()){e.$2.logToConsole("Outdated summaries");return null}}b[a][c]=e.$5(d);return b},e.$2.logError.bind(e.$2,a,c))};c.retrieveCallSummary=function(a,b){var c=this.getCallSummaries(),d=null;c[a]&&(d=c[a][b]);if(d)return this.$4(d);else return null};c.removeCallSummary=function(a,b){this.removeCallSummaries([{peerID:a,callID:b}])};c.removeCallSummaries=function(a){var b=this;this.$3(function(c){var d=a.length;for(var e=0;e<d;e++){var f=a[e].peerID,g=a[e].callID;c[f]&&c[f][g]&&(delete c[f][g],b.$6(c[f])&&delete c[f])}return c},this.$2.logError.bind(this.$2,null,null))};c.getLoggableSummaries=function(){var a=this.getCallSummaries(),b=[];for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c))for(var d in a[c])if(Object.prototype.hasOwnProperty.call(a[c],d)){var e=this.$4(a[c][d],m);e&&b.push(e)}return b};c.$6=function(a){for(var b in a)if(Object.prototype.hasOwnProperty.call(a,b))return!1;return!0};c.$5=function(a){a={__t:Date.now(),__d:a.toJsonString()};return a};c.$4=function(a,c){return a&&(!c||Date.now()-a.__t>=c)?b("FBRTCCallSummary").fromJsonString(a.__d):null};c.getCallSummaries=function(){var a=this.$1.get(j)||{};return a};c.$3=function(a,c,d,e){d===void 0&&(d=l);(d===void 0||d===null)&&(d=l);var f=this.getCallSummaries(),h=this.getCallSummaries();f=a(f);if(f===null)return;var i=this.getCallSummaries();if((g||(g=b("areEqual")))(h,i))this.$1.set(j,f);else if(d>0){c("Retry lock");if(e){var m=this;b("setTimeout")(function(){m.$3(a,c,d-1,!0)},k)}else this.$3(a,c,d-1,!0)}else c("Failed to lock")};return a}();e.exports=a}),null);
__d("P2PDialogContainerMount",["P2PDialogContainer.react","React","ReactDOM"],(function(a,b,c,d,e,f){"use strict";var g=b("React");a={mount:function(a){b("ReactDOM").render(g.jsx(b("P2PDialogContainer.react"),{}),a)}};e.exports=a}),null);
__d("VideoChainingCaller",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({INTERNAL:"internal",WWW_FEED_PIVOTS:"www_feed_pivots",WWW_FEED_SNOWLIFT:"www_feed_snowlift",MISC_PHOTO_SET:"misc_photo_set",MOBILE:"mobile",SEARCH:"search",WWW_FEED_RHC:"www_feed_rhc",WWW_NOTIFICATION:"www_notification",WWW_PERMALINK:"www_permalink",WWW_PERMALINK_RHC:"www_permalink_rhc",WWW_PERMALINK_RHC_FROM_NOTIFICATION:"www_permalink_rhc_from_notification",MY_VIDEO_CHANNELS_ENT_QUERY:"my_video_channels_ent_query",TOP_FOLLOWED_VIDEO_CHANNELS_ENT_QUERY:"top_followed_video_channels_ent_query",BADGE:"badge",PAGINATION:"pagination",SUBTITLE:"subtitle",CHANNEL_VIEW_FROM_UNKNOWN:"channel_view_from_unknown",CHANNEL_VIEW_FROM_NEWSFEED:"channel_view_from_newsfeed",CHANNEL_VIEW_FROM_EXPLOREFEED:"channel_view_from_explorefeed",LIVE_INDEXER_FROM_EXPLOREFEED:"live_indexer_from_explorefeed",LIVE_INDEXER_FROM_NEWSFEED:"live_indexer_from_newsfeed",NN_INDEXER_FROM_NEWSFEED:"nn_indexer_from_newsfeed",CHANNEL_VIEW_FROM_SEARCH:"channel_view_from_search",CHANNEL_VIEW_FROM_NEWSFEED_PIVOT:"channel_view_from_newsfeed_pivot",NEWSFEED_PIVOT_INLINE:"newsfeed_pivot_inline",MOBILE_NEWSFEED_PIVOT_INLINE:"mobile_newsfeed_pivot_inline",CHANNEL_VIEW_FROM_PAGE_CALL_TO_ACTION:"channel_view_from_page_call_to_action",CHANNEL_VIEW_FROM_PAGE_TIMELINE:"channel_view_from_page_timeline",CHANNEL_VIEW_FROM_PAGE_TIMELINE_FEATURED:"channel_view_from_page_timeline_featured",CHANNEL_VIEW_FROM_PAGE_VIDEO_TAB:"channel_view_from_page_video_tab",CHANNEL_VIEW_FROM_PAGE_HOME_HERO:"channel_view_from_page_home_hero",CHANNEL_VIEW_FROM_USER_TIMELINE:"channel_view_from_user_timeline",CHANNEL_VIEW_FROM_USER_VIDEO_TAB:"channel_view_from_user_video_tab",CHANNEL_VIEW_FROM_GROUP_TIMELINE:"channel_view_from_group_timeline",CHANNEL_VIEW_FROM_GROUP_VIDEO_TAB:"channel_view_from_group_video_tab",CHANNEL_VIEW_FROM_VIDEO_PAGE_SPOTLIGHT:"channel_view_from_video_page_spotlight",CHANNEL_VIEW_FROM_VIDEO_PAGE_VIDEO_LIST:"channel_view_from_video_page_video_list",CHANNEL_VIEW_FROM_VIDEO_PAGE_VIDEO_TAB:"channel_view_from_video_page_video_tab",CHANNEL_VIEW_FROM_CHANNEL_TAB:"channel_view_from_channel_tab",CHANNEL_VIEW_FROM_SAVED_STORY:"channel_view_from_saved_story",SAVED_STORY_INLINE:"saved_story_inline",CHANNEL_VIEW_FROM_SHARED_WITH_YOU_STORY:"channel_view_from_shared_with_you_story",SHARED_WITH_YOU_STORY_INLINE:"shared_with_you_story_inline",CHANNEL_VIEW_FROM_LATEST_FROM_YOUR_CHANNELS_STORY:"channel_view_from_latest_from_your_channels_story",LATEST_FROM_YOUR_CHANNELS_STORY_INLINE:"latest_from_your_channels_story_inline",CHANNEL_VIEW_FROM_CHANNEL_PIVOT:"channel_view_from_channel_pivot",CHANNEL_PIVOT_INLINE:"channel_pivot_inine",CHANNEL_VIEW_FROM_CHANNEL_RECOMMENDED_CHANNEL_STORY:"channel_view_from_recommended_channel_story",RECOMMENDED_CHANNEL_STORY_INLINE:"recommended_channel_story_inline",CHANNEL_VIEW_FROM_VIDEO_HOME:"channel_view_from_video_home",VIDEO_HOME_INLINE:"video_home_inline",VIDEO_HOME_CHANNEL_SEE_ALL:"video_home_channel_see_all",SOCIAL_PLAYER_UP_NEXT:"social_player_up_next",CHANNEL_VIEW_FROM_CASTING:"channel_view_from_casting",CHANNEL_VIEW_FROM_END_CARD:"channel_view_from_end_card",CONNECTED_TV:"connected_tv",CONNECTED_TV_DISCOVERY:"connected_tv_discovery",CONNECTED_TV_PLAYER:"connected_tv_player",CONNECTED_TV_PROFILE:"connected_tv_profile",VIDEO_HOME_FEED:"video_home_feed",VIDEO_HOME_HERO:"video_home_hero",FEED_SURVEY_SWIPE:"feed_survey_swipe",FEED_PIVOTS_INLINE:"feed_pivots_inline",CHANNEL_VIEW_FROM_FEED_PIVOTS:"channel_view_from_feed_pivots",VIDEO_SETS_CACHE_REFRESH:"video_sets_cache_refresh",VIDEO_SETS_CACHE_CHECK:"video_sets_cache_check",DUMMY_STORY_RECOMMENDED_VIDEOS:"dummy_story_recommended_videos",DUMMY_STORY_FRIENDS_ENJOYING:"dummy_story_friends_enjoying",LIVE_EVENT_VIDEO_SET:"live_event_video_set",LIVE_VIDEOS_SET:"live_videos_set",SINGLE_CREATOR_VIDEO_SET:"single_creator_video_set",FRT_TOOL:"frt_tool",DUMMY_STORY_FRIENDS_ENJOYING_NOW:"dummy_story_friends_enjoying_now",DUMMY_STORY_DUMMY_ACTION:"dummy_story_dummy_action",OCULUS_VIDEO:"oculus_video",TRENDING_DEMOGRAPHICS_LIVE:"trending_demographics_live",LIVE_MAP:"live_map",UNCONNECTED_LIVE_VIDEO:"unconnected_live_video",PROFILE_VIDEO_GALLERY:"profile_video_gallery",CHANNEL_VIEW_FROM_PLAYLIST:"channel_view_from_playlist",OCULUS_SOCIAL_HUB:"oculus_social_hub",AKIRA:"akira",IS_LIVE_VIDEO_CHAINING:"is_live_video_chaining",IS_LIVE_VIDEO_CHAINING_OTHERS:"is_live_video_chaining_others",VIDEO_CREATOR_CHAINING:"video_creator_chaining",TAHOE:"tahoe",LIVING_ROOM:"living_room",SHOWS_COVER_TRAILER:"shows_cover_trailer",SHOWS_EPISODES_TAB:"shows_episodes_tab",SHOWS_PLAYLISTS_TAB:"shows_playlists_tab",SHOWS_HOME_TAB:"shows_home_tab",SHOWS_MORE_VIDEOS_TAB:"shows_more_videos_tab",SHOW_EPISODE_FEED_RECOMMENDATIONS:"show_episode_feed_recommendations",PARENT_PAGE_TIMELINE:"parent_page_timeline",WATCH_WATCHLIST_TAB:"watch_watchlist_tab",WATCH_FEED_TAB:"watch_feed_tab",WATCH_INJECTION:"watch_injection",WATCH_TOPIC_FEED:"watch_topic_feed",WATCH_TOPIC_CHANNEL_FEED:"watch_topic_channel_feed",WATCH_SUBTOPIC_CHANNEL_FEED:"watch_subtopic_channel_feed",WATCH_SUBTOPIC_LIVE_FEED:"watch_subtopic_live_feed",WATCH_SECTION_SEE_ALL:"watch_section_see_all",SOCIAL_PLAYER_FROM_VIDEO_HOME:"social_player_from_video_home",WATCH_CUSTOM_ADS:"watch_custom_ads",WATCH_EMBEDDED_ENDSCREEN:"watch_embedded_endscreen",WNS:"wns",EXPLORE_FEED_DEEP_DIVE:"explore_feed_deep_dive",VOYAGER:"voyager",GAMES_VIDEO_CHANNEL:"games_video_channel",GAMES_TAB_CHAINING_CHANNEL:"games_tab_chaining_channel",LOL_VIDEO_FEED:"lol_video_feed",AVD_VIDEO:"avd",LIVE_CHAINING:"live_chaining",LIVE_TAB:"live_tab",LIVING_ROOM_CHAINING:"living_room_chaining",FBLITE_TRENDING_VIDEO:"fblite_trending_video",PORTAL:"portal",LASSO:"lasso",WATCH_SOCIAL:"watch_social",MESSENGER:"messenger",CHAINING_GAMING_PROMOTION:"chaining_gaming_promotion",CHAINING_GAMING_ONLY:"chaining_gaming_only",CRICKET_VIDEOS:"cricket_videos",PREMIUM_MUSIC_VIDEO:"premium_music_video",CHANNEL_VIEW_FROM_NEWSFEED_RELATED:"channel_view_from_newsfeed_related",CHANNEL_VIEW_FROM_VIDEO_HOME_RELATED:"channel_view_from_video_home_related",FEED_SHORT_VIDEO:"feed_short_video",PHOTO_CHAINING:"photo_chaining",YOUTUBE_SHARE:"youtube_share",WATCH_RAINBOW_QP:"watch_rainbow_qp",INTEREST_DESTINATION:"interest_destination",CO_WATCH:"co_watch",LIVE_NOW:"live_now",LIVE_TAB_PREFETCH:"live_tab_prefetch",LIVE_LOGOUT_USER:"live_logout_user",FB_LITE:"fb_lite",TEST:"test",UNKNOWN:"unknown"})}),null);